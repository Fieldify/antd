{"version":3,"file":"index.esm.js","sources":["../src/lib/TypeForm.js","../src/lib/TypeRender.js","../src/lib/TypeInfo.js","../src/lib/TypeBuilder.js","../src/Types/String.js","../src/Types/Name.js","../src/Types/Email.js","../src/Types/Number.js","../src/Types/Checkbox.js","../src/Types/DateTimePicker.js","../src/Types/DatePicker.js","../src/Types/DatePickerRange.js","../src/Types/TimePicker.js","../src/Types/TimePickerRange.js","../src/Types/Select.js","../src/Types/Radio.js","../src/Types/Object.js","../src/Types/Array.js","../src/Types/FieldName.js","../src/Types/KV.js","../src/Types/Hash.js","../src/Types.js","../src/Schema/Schema.js","../src/lib/TypeDataset.js","../src/Schema/Form.js","../src/Schema/BuilderModal.js","../src/Schema/Builder.js","../src/Schema/Render.js","../src/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport {\n  Col,\n  Row,\n  Form\n} from \"antd\";\n\nexport default class FieldifyTypeForm extends Component {\n  constructor(props) {\n    super(props)\n    this.state = this.cycle(props)\n  }\n\n\n  componentDidUpdate(props, state) {\n    if (this.props.schema !== props.schema) {\n      const cycle = this.cycle(this.props);\n      this.setState(cycle)\n    }\n  }\n\n  cycle(props) {\n    this.schema = props.schema;\n    \n    const state = {\n      value: props.value,\n      verify: props.verify,\n      feedback: false,\n      status: null,\n      options: {}\n    }\n\n    this.isInjected = props.isInjected;\n\n    this.onChange = props.onChange ? props.onChange : () => { };\n    this.onError = props.onError ? props.onError : () => { };\n\n    if (!this.schema) {\n      this.schema = {}\n      return (state)\n    }\n\n    state.help = this.schema.$help;\n    state.options = this.schema.$options || {};\n    this.handler = this.schema.$_type;\n\n\n    // if (props.verify === true) {\n    //   this.verify(props.value, (ret) => {\n    //     this.state = { ...this.state, ...ret }\n    //   })\n    // }\n\n    return (state)\n  }\n\n  timedChange(cb, speed) {\n    if (this._changeTimer) {\n      this._changeTimerQueue++;\n      this._changeTimerCb = cb;\n      return;\n    }\n\n    cb = cb || this._changeTimerCb;\n    if (!cb) return;\n\n    delete this._changeTimerCb;\n    this._changeTimerQueue = 0;\n    this._changeTimer = setTimeout(() => {\n      cb(() => {\n        delete this._changeTimer;\n\n        // update in queue ?\n        if (this._changeTimerQueue > 0) {\n          this.timedChange(cb, speed);\n        }\n      })\n    }, speed)\n  }\n\n  changeValue(value, speed) {\n    speed = speed || 100;\n    this.setState({\n      value: value\n    })\n\n    this._lastValue = value;\n\n    this.timedChange((end) => {\n      this.verify(this._lastValue, (ret) => {\n        this.setState(ret);\n        if (ret.status !== \"success\") {\n          end();\n          return;\n        }\n        // console.log(\"TypeForm\", this.schema, this._lastValue);\n        this.onChange(this.schema, this._lastValue);\n        end();\n      })\n    }, speed)\n  }\n\n  verify(value, cb) {\n    if(!this.handler) {\n      return (cb({\n        status: \"error\",\n        feedback: true,\n        help: \"No Handler on verifier\"\n      }))\n    }\n    \n    this.handler.verify(value, (error, message) => {\n      if (error === false) {\n        this.onError(false);\n        return (cb({\n          status: \"success\",\n          feedback: true,\n          help: null\n        }));\n      }\n\n      \n      this.onError(true, message);\n      return (cb({\n        status: \"error\",\n        feedback: true,\n        help: message\n      }))\n    })\n  }\n\n\n  render(children) {\n    // return(children)\n\n    if (this.isInjected === true) return (\n      <Form.Item\n        label={this.schema.$doc}\n        required={this.schema.$required}\n        validateStatus={this.state.status}\n        hasFeedback={this.state.feedback}\n        help={this.state.help}\n        style={{ marginBottom: \"0px\" }}\n        wrapperCol={{ sm: 24 }}\n      >\n        {children}\n      </Form.Item>\n    )\n\n    return (\n      <Form.Item\n        label={this.schema.$doc}\n        required={this.schema.$required}\n        validateStatus={this.state.status}\n        hasFeedback={this.state.feedback}\n        help={this.state.help}\n        style={{ marginBottom: \"8px\" }}\n        wrapperCol={{ sm: 24 }}\n      >\n        {children}\n      </Form.Item>\n    )\n  }\n}\n\n","import React, { Component } from 'react';\nimport RecycledComponent from 'react-recycling';\n\nimport {\n  Col,\n  Row,\n  Form,\n  Input\n} from \"antd\";\n\nexport default class FieldifyTypeRender extends RecycledComponent {\n\n  cycle(props) {\n    const state = {\n      schema: props.schema,\n      value: props.value,\n      injected: props.injected\n    }\n\n    return (state)\n  }\n\n  subRender(children) {\n\n    if(this.state.injected === true) {\n      return (\n        <Form.Item\n          label={this.state.schema.$doc}\n          hasFeedback={true}\n          validateStatus=\"success\"\n          style={{ marginBottom: \"0px\" }}\n          wrapperCol={{ sm: 24 }}\n        >\n          {children}\n        </Form.Item>\n      )\n    }\n    return (\n      <Form.Item\n        label={this.state.schema.$doc}\n        hasFeedback={true}\n        validateStatus=\"success\"\n      >\n        {children}\n      </Form.Item>\n    )\n  }\n\n  render() {\n    return (this.subRender(\n      <div style={{ width: \"100%\" }}>\n        {this.state.value}\n      </div>\n    ));\n  }\n}\n\n","import { Component } from 'react';\n\nexport default class SignderivaTypeInfo extends Component {\n  constructor(props) {\n    super(props)\n    this.props = props;\n    if (props.match) this.path = props.match.path;\n    this.state = {}\n  }\n\n\n  componentDidUpdate(prevProps, prevState) {\n    const pNew = this.props.schema || {};\n    const pOld = prevProps.schema || {};\n    // console.log(\"SignderivaTypeInfo.update\", pOld, pNew)\n  }\n\n}\n\n","import { Component } from 'react';\n\nexport default class SignderivaTypeBuilder extends Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.onChange = props.onChange ? props.onChange : () => { };\n\n    if (props.match) this.path = props.match.path;\n\n    this.state = { ...props.options };\n\n    this.default = {};\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const pNew = this.props.options || {};\n    const pOld = prevProps.options || {};\n    \n    var changed = 0;\n    for (var key in this.default) {\n      const o = pOld[key];\n      const n = pNew[key];\n      if (o !== n)\n        changed++;\n    }\n\n    // console.log(\"TypeBuilder.update\", changed, pOld, pNew)\n    if (changed > 0) {\n      this.setState(pNew);\n      this.onChange({...pNew});\n    }\n    \n  }\n\n  setup(prev) {\n    // console.log(\"setup\")\n    const state = { ...prev };\n\n    // clean non valid field\n    for (var a in state) {\n      const p = this.default[a];\n      if (!p) delete state[a]\n    }\n\n    // setup default\n    for (var a in this.default) {\n      if (!(a in state))\n        state[a] = this.default[a];\n    }\n    return (state);\n  }\n\n  configure() {\n    this.state = this.setup(this.state);\n    this.onChange({ ...this.state });\n  }\n\n  changeIt(key, value) {\n    const change = Object.assign({}, this.state);\n    change[key] = value;\n\n    // console.log(\"TypeBuilder\", change)\n    this.setState(change);\n    this.onChange({...change});\n  }\n\n}\n","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  InputNumber,\n  Form,\n  Space,\n  Tag,\n  Input,\n  Col,\n  Row\n} from \"antd\";\n\nimport { FieldStringOutlined as Icon } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass StringForm extends TypeForm {\n  render() {\n    return (super.render(\n      <Input \n      value={this.state.value} \n      placeholder={this.state.options.placeholder} \n      onChange={({ target }) => this.changeValue(target.value)} \n      style={{width: \"100%\"}}\n      />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass StringRender extends TypeRender {\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass StringInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#fadb14\" style={{ color: \"#555555\" }}><Icon /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass StringBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.default = {\n      minSize: 1,\n      maxSize: 128\n    }\n\n    this.configure()\n  }\n\n  render() {\n    return (\n      <div>\n        <Form.Item label=\"String min/max size\">\n          <Space>\n            <InputNumber min={0} value={this.state.minSize} onChange={(value) => this.changeIt(\"minSize\", value)} />\n\n            <InputNumber min={0} value={this.state.maxSize} onChange={(value) => this.changeIt(\"maxSize\", value)} />\n          </Space>\n        </Form.Item>\n\n      </div>\n    )\n  }\n}\n\n/* <div class=\"ant-form-item-control-input\">\n  <div class=\"ant-form-item-control-input-content\">\n    <input type=\"text\" class=\"ant-input\" value=\"vdvfsdvfdsvfds\" style=\"width: 100%;\">\n      </div><span class=\"ant-form-item-children-icon\">\n        <span role=\"img\" aria-label=\"check-circle\" class=\"anticon anticon-check-circle\">\n          <svg viewBox=\"64 64 896 896\" focusable=\"false\" class=\"\" data-icon=\"check-circle\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\">\n            <path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z\">\n              </path>\n              </svg>\n              </span>\n              </span>\n              </div> */\n\n\n\nexport default {\n  code: types.String.code,\n  description: types.String.description,\n  class: types.String.class,\n\n  Info: StringInfo,\n  Builder: StringBuilder,\n  Form: StringForm,\n  Render: StringRender,\n}\n\n\n","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  InputNumber,\n  Form,\n  Space,\n  Tag,\n  Input,\n  Col,\n  Row\n} from \"antd\";\n\nimport { UserSwitchOutlined as Icon } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\nimport TString from './String';\n\nconst StringForm = TString.Form\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass NameForm extends TypeForm {\n  constructor(props) {\n    super(props)\n  }\n\n  cycle(props) {\n    const ret = super.cycle(props)\n    if (!ret.value) ret.value = {}\n    \n    this.result = {...ret.value}\n    return (ret)\n  }\n\n  error(from, error, message) {\n    // this.setState({\n    //   help: \"Please fill the form\"\n    // })\n  }\n\n  setField(key, schema, value) {\n    this.result[key] = value;\n    this.onChange(this.schema, this.result);\n  }\n\n  render() {\n\n    return (super.render(\n      <Row gutter={16}>\n        <Col className=\"gutter-row\" span={12}>\n          <StringForm\n            schema={this.schema.first}\n            verify={this.state.verify}\n            value={this.state.value.first}\n            onChange={(schema, value) => this.setField(\"first\", schema, value)}\n            // onError={(error, message) => this.error(\"first\", error, message)}\n            isInjected={true}\n          />\n        </Col>\n        <Col className=\"gutter-row\" span={12}>\n          <StringForm\n            schema={this.schema.last}\n            verify={this.state.verify}\n            value={this.state.value.last}\n            onChange={(schema, value) => this.setField(\"last\", schema, value)}\n            // onError={(error, message) => this.error(\"last\", error, message)}\n            isInjected={true}\n          />\n        </Col>\n      </Row>\n    ))\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass NameInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#36cfc9\" style={{ color: \"#555555\" }}><Icon /></Tag>\n      </span>\n    )\n  }\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass NameRender extends TypeRender {\n  static getDerivedStateFromProps(props, state) {\n    if(state.value && typeof state.value === \"object\") {\n      var final = \"\"\n\n      if(state.value.first) final += state.value.first\n      if(state.value.last) final += \" \"+state.value.last\n\n      state.value = final.trim()\n    }\n    return(state)\n  }\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass NameBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.default = {\n      minSize: 1,\n      maxSize: 128\n    }\n\n    this.configure()\n  }\n\n  render() {\n    return (\n      <div>\n        <Form.Item label=\"Name min/max size\">\n          <Space>\n            <InputNumber min={0} value={this.state.minSize} onChange={(value) => this.changeIt(\"minSize\", value)} />\n\n            <InputNumber min={0} value={this.state.maxSize} onChange={(value) => this.changeIt(\"maxSize\", value)} />\n          </Space>\n        </Form.Item>\n\n      </div>\n    )\n  }\n}\n\nexport default {\n  code: types.Name.code,\n  description: types.Name.description,\n  class: types.Name.class,\n\n  Info: NameInfo,\n  Builder: NameBuilder,\n  Form: NameForm,\n  Render: NameRender,\n\n  noFormItem: true\n}\n\n\n","import { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  Checkbox,\n  Form,\n  Tag,\n  Input,\n  Col,\n  Row\n} from \"antd\";\n\nimport { MailOutlined } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass EmailForm extends TypeForm {\n  render() {\n    return (super.render(\n      <Input value={this.state.value} placeholder={this.state.options.placeholder} onChange={({ target }) => this.changeValue(target.value)} />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass EmailInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#1890ff\"><MailOutlined /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass EmailRender extends TypeRender {\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Complement builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass EmailBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.default = {\n      subAddressing: true\n    }\n\n    this.configure()\n  }\n\n  render() {\n    return (\n      <div>\n        <Form.Item label=\"Sub-addressing\">\n          <Checkbox checked={this.state.subAddressing} onChange={({ target }) => this.changeIt(\"subAddressing\", target.checked)}>Allowed</Checkbox>\n        </Form.Item>\n      </div>\n    )\n  }\n}\n\n\nexport default {\n  code: types.Email.code,\n  description: types.Email.description,\n  class: types.Email.class,\n\n  Info: EmailInfo,\n  Builder: EmailBuilder,\n  Form: EmailForm,\n  Render: EmailRender\n}","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  InputNumber,\n  Form,\n  Space,\n  Tag,\n  Input,\n  Col,\n  Row\n} from \"antd\";\n\nimport { NumberOutlined as Icon } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass NumberForm extends TypeForm {\n  render() {\n    return (super.render(\n      <InputNumber \n      value={this.state.value} \n      placeholder={this.state.options.placeholder} \n      onChange={(value) => this.changeValue(value)} \n      style={{width: \"100%\"}}\n      />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass NumberInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#ff7a45\"><Icon /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass NumberRender extends TypeRender {\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass NumberBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.default = {\n      minSize: 1,\n      maxSize: 128\n    }\n\n    this.configure()\n  }\n\n  render() {\n    return (\n      <div>\n      </div>\n    )\n  }\n}\n\nexport default {\n  code: types.Number.code,\n  description: types.Number.description,\n  class: types.Number.class,\n\n  Info: NumberInfo,\n  Builder: NumberBuilder,\n  Form: NumberForm,\n  Render: NumberRender\n}\n\n\n","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  InputNumber,\n  Form,\n  Space,\n  Tag,\n  Input,\n  Col,\n  Row,\n  Checkbox\n} from \"antd\";\n\nimport { CheckSquareOutlined as Icon } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\nimport TypeRender from '../lib/TypeRender';\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass CheckboxForm extends TypeForm {\n  render() {\n    return (super.render(\n      <Checkbox\n        checked={this.state.value}\n        onChange={({ target }) => this.changeValue(target.checked)}\n        style={{ width: \"100%\" }}\n      >\n        {this.state.options.placeholder}\n      </Checkbox>\n    ))\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass CheckboxInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#85144b\" style={{ color: \"white\" }}><Icon /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass CheckboxRender extends TypeRender {\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass CheckboxBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n    this.configure()\n  }\n\n}\n\nexport default {\n  code: types.Checkbox.code,\n  description: types.Checkbox.description,\n  class: types.Checkbox.class,\n\n  Info: CheckboxInfo,\n  Builder: CheckboxBuilder,\n  Form: CheckboxForm,\n  Render: CheckboxRender,\n}\n\n\n","import { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  Checkbox,\n  Form,\n  Tag,\n  Input,\n  Col,\n  Row,\n  DatePicker\n} from \"antd\";\n\nimport { FieldTimeOutlined } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DateTimePickerForm extends TypeForm {\n  render() {\n    return (super.render(\n      <DatePicker showTime defaultValue={this.state.value} onChange={(date) => {\n        if(date) this.changeValue(date.format())\n        else this.changeValue(null)\n      }}\n      />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DateTimePickerInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#fa541c\"><FieldTimeOutlined /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DateTimePickerRender extends TypeRender {\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Complement builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DateTimePickerBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n    this.configure()\n  }\n}\n\n\nexport default {\n  code: types.DateTimePicker.code,\n  description: types.DateTimePicker.description,\n  class: types.DateTimePicker.class,\n\n  Info: DateTimePickerInfo,\n  Builder: DateTimePickerBuilder,\n  Form: DateTimePickerForm,\n  Render: DateTimePickerRender\n}","import { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  Checkbox,\n  Form,\n  Tag,\n  Input,\n  Col,\n  Row,\n  DatePicker\n} from \"antd\";\n\nimport { FieldTimeOutlined } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DatePickerForm extends TypeForm {\n  render() {\n    return (super.render(\n      <DatePicker defaultValue={this.state.value} onChange={(date, dateString) => this.changeValue(dateString)} />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DatePickerInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#ad2102\"><FieldTimeOutlined /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DatePickerRender extends TypeRender {\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Complement builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DatePickerBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n    this.configure()\n  }\n}\n\n\nexport default {\n  code: types.DatePicker.code,\n  description: types.DatePicker.description,\n  class: types.DatePicker.class,\n\n  Info: DatePickerInfo,\n  Builder: DatePickerBuilder,\n  Form: DatePickerForm,\n  Render: DatePickerRender\n}","import { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  Checkbox,\n  Form,\n  Tag,\n  Input,\n  Col,\n  Row,\n  DatePicker\n} from \"antd\";\n\nimport { FieldTimeOutlined } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\nconst { RangePicker } = DatePicker;\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DatePickerRangeForm extends TypeForm {\n  render() {\n    return (super.render(\n      <RangePicker onChange={(date, dateString) => {\n        if(date) {\n          const res = {\n            from: dateString[0],\n            to: dateString[1],\n          }\n          this.changeValue(res);\n        }\n        else {\n          const res = {\n            from: null,\n            to: null,\n          }\n          this.changeValue(res);\n        }\n      }} />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DatePickerRangeInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#ad2102\"><FieldTimeOutlined /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DatePickerRangeRender extends TypeRender {\n  render() {\n    return (this.subRender(\n      <div style={{ width: \"100%\" }}>\n        {typeof this.state.value === \"object\" && this.state.value.from && this.state.value.to ? \n          `${this.state.value.from} - ${this.state.value.to}` : `-`}\n      </div>\n    ));\n  }\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Complement builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DatePickerRangeBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n    this.configure()\n  }\n}\n\n\nexport default {\n  code: types.DatePickerRange.code,\n  description: types.DatePickerRange.description,\n  class: types.DatePickerRange.class,\n\n  Info: DatePickerRangeInfo,\n  Builder: DatePickerRangeBuilder,\n  Form: DatePickerRangeForm,\n  Render: DatePickerRangeRender\n}","import { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  Checkbox,\n  Form,\n  Tag,\n  Input,\n  Col,\n  Row,\n  TimePicker\n} from \"antd\";\n\nimport { FieldTimeOutlined } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass TimePickerForm extends TypeForm {\n  render() {\n    return (super.render(\n      <TimePicker defaultValue={this.state.value} onChange={(date, dateString) => this.changeValue(dateString)} />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass TimePickerInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#ad2102\"><FieldTimeOutlined /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass TimePickerRender extends TypeRender {\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Complement builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass TimePickerBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n    this.configure()\n  }\n}\n\n\nexport default {\n  code: types.TimePicker.code,\n  description: types.TimePicker.description,\n  class: types.TimePicker.class,\n\n  Info: TimePickerInfo,\n  Builder: TimePickerBuilder,\n  Form: TimePickerForm,\n  Render: TimePickerRender\n}","import { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  Checkbox,\n  Form,\n  Tag,\n  Input,\n  Col,\n  Row,\n  TimePicker\n} from \"antd\";\n\nimport { FieldTimeOutlined } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\nconst { RangePicker } = TimePicker;\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass TimePickerRangeForm extends TypeForm {\n  render() {\n    return (super.render(\n      <RangePicker onChange={(date, dateString) => {\n        if(date) {\n          const res = {\n            from: dateString[0],\n            to: dateString[1],\n          }\n          this.changeValue(res);\n        }\n        else {\n          const res = {\n            from: null,\n            to: null,\n          }\n          this.changeValue(res);\n        }\n      }} />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass TimePickerRangeInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#ad2102\"><FieldTimeOutlined /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass TimePickerRangeRender extends TypeRender {\n  render() {\n    return (this.subRender(\n      <div style={{ width: \"100%\" }}>\n        {typeof this.state.value === \"object\" ? \n          `${this.state.value.from} - ${this.state.value.to}` : `-`}\n      </div>\n    ));\n  }\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Complement builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass TimePickerRangeBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n    this.configure()\n  }\n}\n\n\nexport default {\n  code: types.TimePickerRange.code,\n  description: types.TimePickerRange.description,\n  class: types.TimePickerRange.class,\n\n  Info: TimePickerRangeInfo,\n  Builder: TimePickerRangeBuilder,\n  Form: TimePickerRangeForm,\n  Render: TimePickerRangeRender\n}","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  InputNumber,\n  Form,\n  Space,\n  Tag,\n  Input,\n  Select,\n  Col,\n  Row\n} from \"antd\";\n\nimport { SelectOutlined as Icon } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass SelectForm extends TypeForm {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      value: props.value,\n      options: {}\n    }\n\n    if (props.schema.$options) this.state.options = props.schema.$options\n\n    if(!this.state.value && this.state.options.default) {\n      this.state.value = this.state.options.default\n      // inform the change\n      this.onChange(this.schema, this.state.value);\n    }\n\n    this.state.items = this.updateItems()\n  }\n\n  updateItems() {\n    if (!this.state.options.items) return ([])\n\n    const options = []\n    for (var key in this.state.options.items) {\n      const value = this.state.options.items[key];\n      options.push(<Select.Option value={key} key={key}>{value}</Select.Option>)\n    }\n\n    return (options)\n  }\n\n  render() {\n    return (super.render(\n      <Select value={this.state.value} onChange={(value)  => this.changeValue(value)}>\n        {this.state.items}\n      </Select>\n    ))\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass SelectInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#52c41a\" style={{ color: \"white\" }}><Icon /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass SelectRender extends TypeRender {\n  static getDerivedStateFromProps(props, state) {\n    if(typeof state.value === \"string\") {\n\n      if(props.schema.$options && props.schema.$options.items) {\n        const ptr = props.schema.$options.items\n        if(ptr[state.value]) state.value = ptr[state.value]\n      }\n    }\n    return(state)\n  }\n\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass SelectBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.default = {\n      minSize: 1,\n      maxSize: 128\n    }\n\n    this.configure()\n  }\n\n  render() {\n    return (\n      <div>\n        <Form.Item label=\"Select min/max size\">\n          <Space>\n            <InputNumber min={0} value={this.state.minSize} onChange={(value) => this.changeIt(\"minSize\", value)} />\n\n            <InputNumber min={0} value={this.state.maxSize} onChange={(value) => this.changeIt(\"maxSize\", value)} />\n          </Space>\n        </Form.Item>\n\n      </div>\n    )\n  }\n}\n\nexport default {\n  code: types.Select.code,\n  description: types.Select.description,\n  class: types.Select.class,\n\n  Info: SelectInfo,\n  Builder: SelectBuilder,\n  Form: SelectForm,\n  Render: SelectRender\n}\n\n\n","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  InputNumber,\n  Form,\n  Space,\n  Tag,\n  Input,\n  Radio,\n  Col,\n  Row\n} from \"antd\";\n\nimport { FieldBinaryOutlined as Icon } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\nconst _radioVertical = {\n  display: 'block',\n  height: '30px',\n  lineHeight: '30px',\n};\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass RadioForm extends TypeForm {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      value: props.value,\n      options: {}\n    }\n\n    if (props.schema.$options) this.state.options = props.schema.$options\n\n    if (!this.state.value && this.state.options.default) {\n      this.state.value = this.state.options.default\n      // inform the change\n      this.onChange(this.schema, this.state.value);\n    }\n\n    this.state.items = this.updateItems()\n  }\n\n  componentDidUpdate(props, state) {\n    // if(state.options.default !== this.state.options.default) changed = true;\n    // if(state.items !== this.state.items) changed = true;\n    // if(state.options.horizontal !== this.state.options.horizontal) changed = true;\n\n    if (props.schema !== this.props.schema) {\n      this.setState({\n        options: props.schema.$options,\n        items: this.updateItems()\n      });\n      this.onChange(this.schema, this.state.value);\n    }\n\n    // if(changed === true) this.setState({items: this.updateItems()})\n  }\n\n  updateItems() {\n    var style = _radioVertical;\n    if(this.props.schema.$options.horizontal === true) style = null;\n    if (!this.props.schema.$options.items) return ([])\n\n    const options = []\n    for (var key in this.props.schema.$options.items) {\n      const value = this.props.schema.$options.items[key];\n      options.push(<Radio style={style} value={key} key={key}>{value}</Radio>)\n    }\n\n    return (options)\n  }\n\n  render() {\n    return (super.render(\n      <Radio.Group value={this.state.value} onChange={({ target }) => this.changeValue(target.value) }>\n        {this.state.items}\n      </Radio.Group>\n    ))\n  }\n}\n\n\n\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass RadioInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#096dd9\" style={{ color: \"white\" }}><Icon /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass RadioRender extends TypeRender {\n  static getDerivedStateFromProps(props, state) {\n    if (typeof state.value === \"string\") {\n\n      if (props.schema.$options && props.schema.$options.items) {\n        const ptr = props.schema.$options.items\n        if (ptr[state.value]) state.value = ptr[state.value]\n      }\n    }\n    return (state)\n  }\n\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass RadioBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.default = {\n      minSize: 1,\n      maxSize: 128\n    }\n\n    this.configure()\n  }\n\n  render() {\n    return (\n      <div>\n        <Form.Item label=\"Radio min/max size\">\n          <Space>\n            <InputNumber min={0} value={this.state.minSize} onChange={(value) => this.changeIt(\"minSize\", value)} />\n\n            <InputNumber min={0} value={this.state.maxSize} onChange={(value) => this.changeIt(\"maxSize\", value)} />\n          </Space>\n        </Form.Item>\n\n      </div>\n    )\n  }\n}\n\nexport default {\n  code: types.Radio.code,\n  description: types.Radio.description,\n  class: types.Radio.class,\n\n  Info: RadioInfo,\n  Builder: RadioBuilder,\n  Form: RadioForm,\n  Render: RadioRender\n}\n\n\n","// this is a hidden type\n// to manage nested object\nimport { types,  fieldifyType } from 'fieldify'\n\n\nclass ObjectClass extends fieldifyType {\n}\n\n\nexport default {\n  code: \"Object\",\n  description: \"Nested Sub Object\",\n  class: ObjectClass\n}\n","// this is a hidden type\n// to manage nested object\nimport { types,  fieldifyType } from 'fieldify'\n\nclass ArrayClass extends fieldifyType {\n  configuration () {\n    return ({\n      min: {\n        $doc: 'Minimum of items',\n        $required: false,\n        $type: 'Number'\n      },\n      max: {\n        $doc: 'Maximun of items',\n        $required: false,\n        $type: 'Number'\n      }\n    })\n  }\n}\n\nexport default {\n  code: \"Array\",\n  description: \"Array\",\n  class: ArrayClass\n}\n","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  InputNumber,\n  Form,\n  Space,\n  Tag,\n  Input,\n  Col,\n  Row\n} from \"antd\";\n\nimport { FieldStringOutlined as Icon } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\nimport String from './String'\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass FieldNameForm extends String.Form { \n  constructor(props){\n    super(props)\n  }\n\n  verify(input, cb) {\n    super.verify(input, (ret)=>{\n      if(ret.status !== \"success\") {\n        return(cb(ret))\n      }\n\n      // check if the key is already used\n      if(this.props.user && input in this.props.user) {\n        const msg = `Field name already used`\n        \n        this.onError(true, msg);\n        return (cb({\n          status: \"error\",\n          feedback: true,\n          help: msg\n        }))\n      }\n\n      cb(ret)\n    })\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass FieldNameInfo extends String.Info { }\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass FieldNameBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.default = {\n      minSize: 1,\n      maxSize: 128\n    }\n\n    // this.configure()\n  }\n\n  render() {\n    return (\n      <div>\n        <Form.Item label=\"FieldName min/max size\">\n          {/* <Space>\n            <InputNumber min={0} value={this.state.minSize} onChange={(value) => this.changeIt(\"minSize\", value)} />\n\n            <InputNumber min={0} value={this.state.maxSize} onChange={(value) => this.changeIt(\"maxSize\", value)} />\n          </Space> */}\n        </Form.Item>\n\n      </div>\n    )\n  }\n}\n\nexport default {\n  code: types.FieldName.code,\n  description: types.FieldName.description,\n  class: types.FieldName.class,\n\n  Info: FieldNameInfo,\n  Builder: FieldNameBuilder,\n  Form: FieldNameForm\n}\n\n\n","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  Table,\n  Form,\n  Input,\n  Tag,\n  Modal,\n  Alert,\n  Row\n} from \"antd\";\n\nimport {\n  SmallDashOutlined as Icon,\n  EditOutlined as EditIcon,\n  DeleteOutlined as DeleteIcon,\n  UnorderedListOutlined as ObjectIcon,\n  PlusOutlined as PlusIcon,\n  CopyOutlined as ArrayIcon\n} from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass KVForm extends TypeForm {\n\n  constructor(props) {\n    super(props)\n  }\n\n  cycle(props) {\n    const ret = super.cycle(props)\n\n    if (!ret.value) ret.value = {}\n\n    this.result = { ...ret.value }\n\n    ret.modal = false\n    ret.modalCurrent = {\n      key: \"\",\n      value: \"\"\n    }\n    ret.dataTree = { ...ret.value }\n    ret.dataSource = this.computeDataSource(ret.dataTree);\n\n    return (ret)\n  }\n\n  computeDataSource(tree) {\n    const ds = []\n    for (let key in tree) {\n      const value = tree[key]\n      ds.push({\n        key: key,\n        value: value,\n        actions: <div className=\"ant-radio-group ant-radio-group-outline ant-radio-group-small\">\n          <span className=\"ant-radio-button-wrapper\" onClick={() => this.removeKey(key)}>\n            <span><DeleteIcon /></span>\n          </span>\n          <span className=\"ant-radio-button-wrapper\" onClick={() => this.openModal({ key, value })}>\n            <span><EditIcon /></span>\n          </span>\n        </div>\n      })\n    }\n    return (ds)\n  }\n\n  handleModalChange(key, value) {\n    const modalCurrent = { ...this.state.modalCurrent }\n    modalCurrent[key] = value;\n    this.setState({ modalCurrent })\n  }\n\n  openModal(data) {\n    const state = {\n      modalError: false,\n      modalInitial: null,\n      modalCurrent: data || {\n        key: \"\",\n        value: \"\"\n      },\n      modal: true\n    }\n\n    if (data) state.modalInitial = { ...state.modalCurrent }\n\n    this.setState(state)\n  }\n\n  removeKey(key) {\n    const state = { ...this.state }\n    delete state.dataTree[key]\n    state.dataSource = this.computeDataSource(state.dataTree);\n    this.setState(state)\n\n    this.changeValue(state.dataTree)\n  }\n\n  editedButton() {\n    const state = { ...this.state }\n\n    const mc = this.state.modalCurrent;\n\n    // check the key input\n    const type = this.schema.$_type;\n\n    // verify the input\n    const data = {}\n    data[mc.key] = mc.value;\n    type.verify(data, (error, message) => {\n      state.modalError = error;\n      state.modalErrorMessage = message;\n\n      if (error === false) {\n        // remove old entry and add new one\n        if (state.modalInitial) {\n          delete state.dataTree[state.modalInitial.key];\n        }\n        state.dataTree[state.modalCurrent.key] = state.modalCurrent.value\n\n        state.dataSource = this.computeDataSource(state.dataTree);\n\n        state.modal = false;\n      }\n\n      this.setState(state)\n      this.changeValue(state.dataTree)\n    })\n\n  }\n\n  render() {\n    const onCancel = () => {\n      this.setState({ modal: false });\n    };\n\n    const columns = [\n      {\n        title: 'Key',\n        dataIndex: 'key',\n        key: 'key',\n      },\n      {\n        title: 'Value',\n        dataIndex: 'value',\n        key: 'value',\n      },\n      {\n        title: <div className=\"ant-radio-group ant-radio-group-outline ant-radio-group-small\">\n          <span className=\"ant-radio-button-wrapper\" onClick={() => this.openModal()}>\n            <span>Add <PlusIcon /></span>\n          </span>\n        </div>,\n        dataIndex: 'actions',\n        key: 'actions',\n        align: \"right\"\n      },\n    ];\n\n    const layout = {\n      labelCol: { span: 8 },\n      wrapperCol: { span: 16 },\n    };\n\n    return (super.render(<div>\n      <Modal\n        centered\n        closable={false}\n        visible={this.state.modal}\n        width={300}\n        onOk={this.editedButton.bind(this)}\n        onCancel={onCancel}\n      >\n        {this.state.modalError === true ?\n          <div style={{ marginBottom: 8 }}>\n            <Alert size=\"small\" message={this.state.modalErrorMessage} type=\"error\" />\n          </div>\n\n          : null}\n\n        <Form\n          {...layout}\n        >\n          <Form.Item label=\"Key\">\n            <Input value={this.state.modalCurrent.key} onChange={({ target }) => this.handleModalChange(\"key\", target.value)} />\n          </Form.Item>\n\n          <Form.Item label=\"Value\">\n            <Input value={this.state.modalCurrent.value} onChange={({ target }) => this.handleModalChange(\"value\", target.value)} />\n          </Form.Item>\n\n        </Form>\n\n\n      </Modal>\n      <Table\n        size=\"small\"\n        dataSource={this.state.dataSource}\n        columns={columns}\n        pagination={{\n          total: this.state.dataSource.length,\n          pageSize: this.state.dataSource.length,\n          hideOnSinglePage: true\n        }}\n      />\n    </div>));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass KVInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#22075e\"><Icon /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass KVRender extends TypeRender {\n\n  cycle(props) {\n    const ret = super.cycle(props)\n\n    if (!ret.value) ret.value = {}\n\n    this.result = { ...ret.value }\n\n    ret.dataTree = { ...ret.value }\n    ret.dataSource = this.computeDataSource(ret.dataTree);\n\n    return (ret)\n  }\n\n  computeDataSource(tree) {\n    const ds = []\n    for (let key in tree) {\n      const value = tree[key]\n      ds.push({\n        key: key,\n        value: value\n      })\n    }\n    return (ds)\n  }\n\n\n  render() {\n    const columns = [\n      {\n        dataIndex: 'key',\n        key: 'key',\n      },\n      {\n        dataIndex: 'value',\n        key: 'value',\n      }\n    ];\n\n    const layout = {\n      labelCol: { span: 8 },\n      wrapperCol: { span: 16 },\n    };\n\n    return (super.subRender(<div>\n      <Table\n        showHeader={false}\n        size=\"small\"\n        dataSource={this.state.dataSource}\n        columns={columns}\n        pagination={{\n          total: this.state.dataSource.length,\n          pageSize: this.state.dataSource.length,\n          hideOnSinglePage: true\n        }}\n      />\n    </div>));\n  }\n\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass KVBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.default = {\n      minSize: 1,\n      maxSize: 128\n    }\n\n    this.configure()\n  }\n\n  render() {\n    return (\n      <div>\n      </div>\n    )\n  }\n}\n\nexport default {\n  code: types.KV.code,\n  description: types.KV.description,\n  class: types.KV.class,\n\n  Info: KVInfo,\n  Builder: KVBuilder,\n  Form: KVForm,\n  Render: KVRender\n}\n\n\n","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  InputNumber,\n  Form,\n  Space,\n  Tag,\n  Input,\n  Col,\n  Row\n} from \"antd\";\n\nimport { LinkOutlined as Icon } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass HashForm extends TypeForm {\n  render() {\n    return (super.render(\n      <Input \n      value={this.state.value} \n      placeholder={this.state.options.placeholder} \n      onChange={({ target }) => this.changeValue(target.value)} \n      style={{width: \"100%\"}}\n      />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass HashRender extends TypeRender {\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass HashInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#badb64\" style={{ color: \"#555555\" }}><Icon /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass HashBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.configure()\n  }\n}\n\n/* <div class=\"ant-form-item-control-input\">\n  <div class=\"ant-form-item-control-input-content\">\n    <input type=\"text\" class=\"ant-input\" value=\"vdvfsdvfdsvfds\" style=\"width: 100%;\">\n      </div><span class=\"ant-form-item-children-icon\">\n        <span role=\"img\" aria-label=\"check-circle\" class=\"anticon anticon-check-circle\">\n          <svg viewBox=\"64 64 896 896\" focusable=\"false\" class=\"\" data-icon=\"check-circle\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\">\n            <path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z\">\n              </path>\n              </svg>\n              </span>\n              </span>\n              </div> */\n\n\n\nexport default {\n  code: types.Hash.code,\n  description: types.Hash.description,\n  class: types.Hash.class,\n\n  Info: HashInfo,\n  Builder: HashBuilder,\n  Form: HashForm,\n  Render: HashRender,\n}\n\n\n","import Name from \"./Types/Name\"\nimport Email from \"./Types/Email\"\nimport String from \"./Types/String\"\nimport Number from \"./Types/Number\"\nimport Checkbox from \"./Types/Checkbox\"\nimport DateTimePicker from \"./Types/DateTimePicker\"\nimport DatePicker from \"./Types/DatePicker\"\nimport DatePickerRange from \"./Types/DatePickerRange\"\n\nimport TimePicker from \"./Types/TimePicker\"\nimport TimePickerRange from \"./Types/TimePickerRange\"\n\nimport Select from \"./Types/Select\"\nimport Radio from \"./Types/Radio\"\nimport Object from \"./Types/Object\"\nimport Array from \"./Types/Array\"\nimport FieldName from \"./Types/FieldName\"\nimport KV from \"./Types/KV\"\nimport Hash from \"./Types/Hash\"\n\nexport default {\n  Name,\n  Email,\n  String,\n  Number,\n  Select,\n  Radio,\n  Checkbox,\n  DateTimePicker,\n  DatePicker,\n  DatePickerRange,\n  TimePicker,\n  TimePickerRange,\n  Hash,\n  Object,\n  Array,\n  FieldName,\n  KV\n}\n","import { schema } from \"fieldify\";\nimport Types from \"../Types\"\n\nexport class FieldifySchema extends schema {\n  constructor(name, options) {\n    super(name, options);\n  }\n\n  resolver(type) {\n    return (Types[type])\n  }\n\n  compile(schema) {\n    // process normal compilation\n    super.compile(schema);\n  }\n}\n","import { utils, input as FieldifyInput } from \"fieldify\";\nimport React from 'react';\nimport RecycledComponent from 'react-recycling';\n\nimport { Form, Table, Button, Input, Card } from \"antd\";\nimport {\n  PlusOutlined as PlusIcon,\n  DeleteOutlined as DeleteIcon\n} from '@ant-design/icons';\n\nimport { FieldifySchema } from \"../Schema/Schema\";\n\n\nexport class TypeDataset extends RecycledComponent {\n  constructor(props) {\n    super(props)\n\n    this.formRef = React.createRef()\n\n  }\n\n  cycle(props, first) {\n\n    const state = {\n      layout: props.layout ? props.layout : \"horizontal\"\n    }\n\n    // compile the schema\n    state.rawSchema = props.schema\n    state.schema = new FieldifySchema(\"form\")\n    state.schema.compile(state.rawSchema)\n\n    // create an input instance\n    // console.log(\"rawInput\", state.rawInput === props.rawInput)\n    state.rawInput = props.input\n    state.input = new FieldifyInput(state.schema)\n    state.input.setValue(props.input)\n\n    state.inputValue = state.input.getValue()\n    state.verify = props.verify || false\n\n    state.actions = props.actions;\n    state.generator = props.generator;\n\n    this.references = {};\n\n    this.onChange = props.onChange ? props.onChange : () => { };\n\n    // state.reactive = this.update(state.schema, state.inputValue, state.verify);\n    state.reactive = this.update({\n      state,\n      root: state.schema,\n      input: state.inputValue,\n      verify: state.verify\n    })\n    return (state)\n  }\n\n  getValue() {\n    return (this.state.input.getValue())\n  }\n\n  clickAddArray(line) {\n    this.state.input.set(line)\n    const _value = this.state.input.getValue();\n    this.onChange(this.state.input, _value)\n    this.setState({\n      inputValue: _value,\n      // reactive: this.update(this.state.schema, _value, false)\n      reactive: this.update({\n        state: this.state,\n        root: this.state.schema,\n        input: _value,\n        verify: false,\n      })\n    })\n  }\n\n  clickRemoveArrayItem(line) {\n    this.state.input.remove(line)\n    const _value = this.state.input.getValue();\n    this.onChange(this.state.input, _value)\n    this.setState({\n      inputValue: _value,\n      // reactive: this.update(this.state.schema, _value, false)\n\n      reactive: this.update({\n        state: this.state,\n        root: this.state.schema,\n        input: _value,\n        verify: false,\n      })\n\n    })\n  }\n\n\n  setValue(line, value) {\n    if (!this.state.input) return;\n\n    this.state.input.set(line, value)\n    const _value = this.state.input.getValue();\n    this.onChange(this.state.input, _value)\n    this.setState({\n      inputValue: _value\n    })\n  }\n\n  update(up) {\n\n    var { root, input, verify, state } = up;\n\n    const follower = (schema, schematized, input, ret, line) => {\n      line = line || \"\"\n\n      if (!input) input = {}\n\n      utils.orderedRead(schema, (index, item) => {\n\n        const source = { ...Array.isArray(item) ? item[0] : item };\n        const schematizedSrc = schematized[source.$_key];\n        const sourceSchematized = { ...Array.isArray(schematizedSrc) ? schematizedSrc[0] : schematizedSrc };\n\n        const inputPtr = input ? input[source.$_key] : null;\n        const lineKey = line + \".\" + source.$_key;\n\n        if (source.$_array === true) {\n          const columns = [\n            {\n              dataIndex: 'form',\n              key: 'form',\n              width: \"100%\"\n            }\n          ];\n\n          if (state.actions === true) {\n            columns.push({\n              dataIndex: 'actions',\n              key: 'actions',\n              align: \"right\"\n            })\n          }\n\n          const dataSource = []\n\n          var inputPtr2 = inputPtr;\n          const options = source.$array || {};\n          const min = options.min ? options.min : (source.$required === true ? 1 : 0)\n\n          if (source.$_nested === true) {\n            var inputPtr2 = input[source.$_key]\n\n            if (!Array.isArray(inputPtr)) inputPtr2 = input[source.$_key] = [];\n\n            // force to create min form\n            if (min - inputPtr2.length > 0) {\n              for (var a = 0; a <= min - inputPtr2.length; a++) {\n                inputPtr2.push({})\n              }\n            }\n\n            for (var a = 0; a < inputPtr2.length; a++) {\n              const value = inputPtr2[a];\n              const key = lineKey + \".\" + a\n\n              const child = [];\n              follower(source, sourceSchematized, value, child, key);\n\n              const toPush = { key, form: child }\n              if (state.actions === true) {\n                toPush.actions = <Button size=\"small\" onClick={() => this.clickRemoveArrayItem(key)}>\n                  <span><DeleteIcon /></span>\n                </Button>\n              }\n              dataSource.push(toPush)\n            }\n          }\n          else if (source.$type) {\n            delete sourceSchematized.$doc; // source is cloned\n            const TypeForm = source.$type[state.generator];\n\n            // console.log(\"Array non nested\", min, inputPtr2)\n\n            if (verify === true) {\n              // console.log()\n            }\n\n            if (!Array.isArray(inputPtr)) {\n              input[source.$_key] = [];\n              inputPtr2 = input[source.$_key];\n            }\n\n            if (!inputPtr2) return (ret);\n\n            if (min - inputPtr2.length > 0) {\n              for (var a = 0; a <= min - inputPtr2.length; a++) {\n                inputPtr2.push(null)\n              }\n            }\n\n            for (var a = 0; a < inputPtr2.length; a++) {\n              const value = inputPtr2[a];\n              const key = lineKey + \".\" + a\n\n              const toPush = {\n                key,\n                form: <TypeForm\n                  schema={sourceSchematized}\n                  value={value}\n                  verify={verify}\n                  user={this.props.user}\n                  onChange={(schema, value) => this.setValue(key, value)}\n                  isInjected={true}\n\n                  // reference errors\n                  onError={(error, message) => {\n                    if (error === true) {\n                      this.references[key] = message;\n                    }\n                    else {\n                      const ref = this.references[key];\n                      if (ref) {\n                        delete this.references[key];\n                      }\n                    }\n                  }}\n                />\n              }\n              if (state.actions === true) {\n                toPush.actions = <Button size=\"small\" onClick={() => this.clickRemoveArrayItem(key)}>\n                  <span><DeleteIcon /></span>\n                </Button>\n              }\n              dataSource.push(toPush)\n            }\n          }\n\n          ret.push(<Form.Item key={source.$_wire} noStyle={true}>\n            <div className=\"ant-form-item\">\n              <Card size=\"small\" title={source.$_access.$doc} extra={<div className=\"ant-radio-group ant-radio-group-outline ant-radio-group-small\">\n                {inputPtr2 && state.actions === true ?\n                  <span className=\"ant-radio-button-wrapper\" onClick={() => this.clickAddArray(lineKey + \".\" + inputPtr2.length)}>\n                    <span><PlusIcon /></span>\n                  </span>\n                  : null}\n              </div>}>\n                <Table\n                  size=\"small\"\n                  dataSource={dataSource}\n                  columns={columns}\n                  verticalAlign='middle'\n                  showHeader={false}\n                  pagination={{\n                    total: dataSource.length,\n                    pageSize: dataSource.length,\n                    hideOnSinglePage: true\n                  }}\n                  bordered\n                />\n              </Card>\n            </div>\n          </Form.Item>);\n\n        }\n        else {\n          if (source.$_nested === true) {\n            const child = [];\n\n            follower(source, sourceSchematized, inputPtr, child, lineKey);\n\n            ret.push(<div key={source.$_wire} className=\"ant-form-item\">\n              <Card size=\"small\" title={source.$doc}>\n                {child}\n              </Card>\n            </div>);\n          }\n          else if (item.$type) {\n            const TypeForm = item.$type[state.generator];\n\n            ret.push(<TypeForm\n              schema={sourceSchematized}\n              value={inputPtr}\n              key={source.$_wire}\n              verify={verify}\n              user={this.props.user}\n              onChange={(schema, value) => this.setValue(lineKey, value)}\n\n              // reference errors\n              onError={(error, message) => {\n                if (error === true) {\n                  this.references[source.$_wire] = message;\n                }\n                else {\n                  const ref = this.references[source.$_wire];\n                  if (ref) {\n                    delete this.references[source.$_wire];\n                  }\n                }\n              }}\n            />);\n          }\n        }\n      });\n      return (ret);\n    };\n\n    const ret = [];\n    follower(\n      root.handler.schema,\n      root.handlerSchematized.schema,\n      input,\n      ret\n    );\n    return (ret);\n  }\n\n  render() {\n    var layout = {};\n\n    if (this.state.layout === 'horizontal') {\n      layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n      }\n    }\n    return (<Form\n      layout={this.state.layout}\n      key={this.formRef}\n      {...layout}\n      name=\"basic\" >\n      {this.state.reactive}\n    </Form>);\n  }\n}\n","import { utils, input as FieldifyInput } from \"fieldify\";\nimport React from 'react';\nimport RecycledComponent from 'react-recycling';\n\nimport { Form, Table, Button, Input, Card } from \"antd\";\nimport {\n  PlusOutlined as PlusIcon,\n  DeleteOutlined as DeleteIcon\n} from '@ant-design/icons';\n\nimport { FieldifySchema } from \"../Schema/Schema\";\nimport { TypeDataset } from \"../lib/TypeDataset\";\n\nexport class FieldifySchemaForm extends RecycledComponent {\n  cycle(props) {\n    const state = {\n      layout: props.layout,\n      schema: props.schema,\n      input: props.input,\n      onChange: props.onChange,\n    }\n\n    return(state)\n  }\n\n  render() {\n    return (<TypeDataset\n      schema={this.state.schema}\n      input={this.state.input}\n      onChange={this.state.onChange}\n      actions={true}\n      layout={this.state.layout}\n      generator=\"Form\"\n    />);\n  }\n}\n","import { utils, input as FieldifyInput } from \"fieldify\";\n\nimport React from 'react';\nimport Types from '../Types';\nimport { Modal, Form, Input, Select, Checkbox, Tag } from \"antd\";\nimport { FieldifySchema } from \"../Schema/Schema\";\nimport { FieldifySchemaForm } from './Form'\nimport { ConsoleSqlOutlined } from \"@ant-design/icons\";\n\n// build all available types\nconst allTypes = {}\nconst allTypesNoArray = {}\nfor (var a in Types) {\n  allTypes[a] = Types[a].description\n  if (a !== \"Array\") {\n    allTypesNoArray[a] = Types[a].description\n  }\n}\n\n// set the very basic schema for the modal\nconst baseSchema = {\n  key: {\n    $doc: \"Name of the field\",\n    $type: Types.FieldName,\n    $required: true,\n    $position: 10\n  },\n  type: {\n    $doc: \"Field type\",\n    $type: \"Select\",\n    $required: true,\n    $options: {\n      items: allTypes\n    },\n    $position: 11\n  },\n  doc: {\n    $doc: \"Description\",\n    $required: false,\n    $type: \"String\",\n    $position: 22\n  },\n  position: {\n    $doc: \"Position in the serie\",\n    $required: false,\n    $type: \"Number\",\n    $default: 0,\n    $options: {\n      acceptedTypes: \"integer\"\n    },\n    $position: 23\n  },\n  // options: {\n  //   $doc: \"Options\",\n  //   $type: Types.Checkbox,\n  //   $options: {\n  //     required: \"Field is required\",\n  //     readOnly: \"Field is read only\",\n  //   }\n  // },\n}\n\nexport class FieldifySchemaBuilderModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.formRef = React.createRef()\n    this.state = this.cycle(props, true)\n    this.currentSchema = baseSchema\n  }\n\n  componentDidUpdate(props) {\n    var changed = false\n    var state = { ...this.state }\n\n    if (this.props.visible !== props.visible) {\n      this.currentSchema = baseSchema\n      state = this.cycle(this.props)\n      changed = true;\n    }\n\n    if (changed === true) this.setState(state)\n  }\n\n  cycle(props, first) {\n\n    // here we have 3 cases\n    // normal case = $_array !== true && $_nested !== true\n    // nested in array = $_array === true && $_nested === true\n    // normal in array = $_array === true && $_nested !== true\n    // single nested = $_array !== true && $_nested === true\n\n    const state = {\n      edition: false,\n      original: props.value,\n      form: {\n        state: \"Filling\",\n        color: \"blue\"\n      },\n      value: {},\n      visible: props.visible,\n      user: props.user,\n      verify: false\n    };\n   \n    if (state.user && state.user.$_wire) {\n      state.initialPath = state.user.$_wire;\n    }\n    else state.initialPath = '';\n\n    if (props.value) {\n      const val = props.value;\n\n      state.edition = true;\n\n      // normal case\n      if (val.$_array !== true && val.$_nested !== true) {\n        state.value = {\n          key: val.$_key,\n          type: val.$type.code,\n          doc: val.$doc,\n          required: val.$required,\n          read: val.$read,\n          write: val.$write,\n          options: val.$options,\n          position: val.$position,\n        }\n      }\n      // nested in array\n      else if (val.$_array === true && val.$_nested === true) {\n        state.value = {\n          key: val.$_key,\n          type: \"Array\",\n          content: \"Object\",\n          doc: val.$doc,\n          required: val.$required,\n          read: val.$read,\n          write: val.$write,\n          options: val.$options,\n          position: val.$position,\n        }\n      }\n      // normal in array\n      else if (val.$_array === true && val.$_nested !== true) {\n        state.value = {\n          key: val.$_key,\n          type: \"Array\",\n          content: typeof val.$type === \"string\" ? val.$type : val.$type.code,\n          doc: val.$doc,\n          required: val.$required,\n          read: val.$read,\n          write: val.$write,\n          options: val.$options,\n          position: val.$position,\n        }\n      }\n      // special handle for objects\n      else if (val.$_array !== true && val.$_nested === true) {\n        state.value = {\n          key: val.$_key,\n          type: \"Object\",\n          doc: val.$doc,\n          required: val.$required,\n          read: val.$read,\n          write: val.$write,\n          options: val.$options,\n          position: val.$position,\n        }\n      }\n    }\n    // single addition\n    else {\n      // nothing to set\n      state.value = {}\n    }\n\n    this.driveSchema(state)\n    state.input.setValue(state.value)\n    return (state)\n  }\n\n  driveSchema(state, force) {\n    const value = state.value;\n\n    const Type = Types[value.type]\n    if (Type && Type !== this.currentType) {\n      // create a fake tmp type\n      const TypeObject = new Type.class\n\n      const configuration = TypeObject.configuration()\n\n      this.currentSchema = { ...baseSchema }\n\n      // special cases for array \n      if (value.type === \"Array\") {\n        this.currentSchema.content = {\n          $doc: \"Item content type\",\n          $type: \"Select\",\n          $required: true,\n          $options: {\n            default: value.content || \"Object\",\n            items: allTypesNoArray\n          },\n          $position: 12\n        }\n      }\n\n      if (configuration) this.currentSchema.options = {\n        ...configuration,\n        $doc: \"Type configuration\"\n      };\n\n      // const upSchema = Type.\n      state.currentType = Type;\n\n      state.schema = new FieldifySchema(\"modal\");\n      state.schema.compile(this.currentSchema);\n      state.input = new FieldifyInput(state.schema)\n\n    }\n    else {\n      state.schema = new FieldifySchema(\"modal\");\n      state.schema.compile(this.currentSchema);\n      state.input = new FieldifyInput(state.schema)\n    }\n  }\n\n\n  formChanged(value) {\n\n    const state = {\n      schema: this.state.schema,\n      input: this.state.input,\n      value: { ...this.state.value, ...value }\n    }\n\n    this.driveSchema(state)\n    state.input.setValue(state.value)\n    this.setState(state)\n\n    state.input.verify((result) => {\n      const state = { form: {} }\n      state.verify = true;\n\n      state.error = result.error\n\n      if (result.error === true) {\n        state.form.color = \"blue\"\n        state.form.state = \"Filling\"\n      }\n      else {\n        state.form.color = \"green\"\n        state.form.state = \"Passed\"\n      }\n\n      this.setState(state)\n    })\n\n  }\n\n  handleOK() {\n    this.state.input.verify((result) => {\n      const state = { form: {} }\n      state.verify = true;\n\n      state.error = result.error\n\n      if (result.error === true) {\n        state.form.color = \"red\"\n        state.form.state = \"Error\"\n      }\n      else {\n        state.form.color = \"green\"\n        state.form.state = \"Passed\"\n\n        this.setState(state)\n\n        // get the current input values \n        const value = result.result\n        // const value = this.state.input.getValue()\n        var nvalue = {}\n\n        // rename all root value with $\n        for (var key in value) nvalue['$' + key] = value[key]\n\n        // we will save the last path in order to reconstruct the field name\n        const source = this.state.initialPath.split('.')\n        source.pop()\n        source.push(value.key)\n        const npath = source.join('.')\n        delete nvalue.$key;\n\n        // because object and array are virtualized in the builder \n        // then we need to remap the item with the correct schema underlining\n\n        if (nvalue.$type === \"Array\" && nvalue.$content === \"Object\") {\n\n          if (this.state.edition === true) {\n            // recopy nestedObjects if exists\n            // avoid root copy\n            if (this.props.user.$_wire) {\n              const no = utils.getNO(this.props.user)\n              for (var a in no.nestedObject) {\n                const p = no.nestedObject[a]\n                nvalue[p[0]] = p[1]\n              }\n            }\n          }\n          else if(!nvalue.$doc) nvalue.$doc = \"\"\n\n          delete nvalue.$type;\n          delete nvalue.$content;\n          nvalue = [nvalue]\n        }\n        // normal in array\n        else if (nvalue.$type === \"Array\" && nvalue.$content !== \"Object\") {\n          nvalue.$type = nvalue.$content;\n          delete nvalue.$content;\n          nvalue = [nvalue]\n        }\n        // special handle for objects\n        else if (nvalue.$type === \"Object\") {\n\n          if (this.state.edition === true) {\n            // recopy nestedObjects if exists\n            // avoid root copy\n            if (this.props.user.$_wire) {\n              const no = utils.getNO(this.props.user)\n              for (var a in no.nestedObject) {\n                const p = no.nestedObject[a]\n                nvalue[p[0]] = p[1]\n              }\n            }\n          }\n          else if(!nvalue.$doc) nvalue.$doc = \"\"\n\n          delete nvalue.$type;\n        }\n\n        if (this.state.edition === true) {\n          this.props.onOk(({\n            edition: true,\n            oldPath: this.state.initialPath,\n            newPath: npath,\n            key: value.key,\n            value: nvalue\n          }))\n        }\n        else {\n          this.props.onOk(({\n            edition: false,\n            newPath: this.state.initialPath + \".\" + value.key,\n            key: value.key,\n            value: nvalue\n          }))\n        }\n      }\n    })\n\n  }\n\n  render() {\n    const onOk = () => {\n      // this.onOk(this.state);\n    };\n    const onCancel = () => {\n      // this.setState({ visible: false });\n      this.props.onCancel(this.state);\n    };\n    const layout = {\n      labelCol: { span: 8 },\n      wrapperCol: { span: 16 },\n    };\n\n    return (<Modal\n      title={<span>Add New Field To Your Schema <Tag color={this.state.form.color}>{this.state.form.state}</Tag></span>}\n      centered\n      visible={this.state.visible}\n      width={600}\n      onOk={this.handleOK.bind(this)}\n      onCancel={onCancel}\n    >\n      <FieldifySchemaForm\n        ref={this.formRef}\n        schema={this.currentSchema}\n        input={this.state.value}\n        user={this.props.user}\n        verify={this.state.verify}\n        onChange={this.formChanged.bind(this)}\n      />\n\n    </Modal>);\n  }\n}\n","import React from 'react';\n\nimport RecycledComponent from 'react-recycling';\n\nimport {\n  schema,\n  iterator,\n  assign,\n  fusion,\n  utils\n} from \"fieldify\"\n\nimport {\n  notification,\n  Table,\n  Tag,\n  Popconfirm,\n  Tooltip\n} from 'antd';\n\nimport {\n  EditOutlined as EditIcon,\n  DeleteOutlined as DeleteIcon,\n  UnorderedListOutlined as ObjectIcon,\n  PlusOutlined as PlusIcon,\n  CopyOutlined as ArrayIcon\n} from '@ant-design/icons';\n\nimport { FieldifySchema } from \"./Schema\";\n\nimport { FieldifySchemaBuilderModal } from './BuilderModal';\n\nimport String from \"../Types/String\";\n\nexport class FieldifySchemaBuilder extends RecycledComponent {\n\n  cycle(props, first) {\n    const state = {\n      modal: false,\n      modalUser: null,\n      schemaDataSource: []\n    };\n\n    this.onChange = ()=>{}\n    if(props.onChange) this.onChange = props.onChange\n\n    // compile the schema\n    state.schema = new FieldifySchema(\"form\")\n    state.schema.compile(props.schema)\n\n    state.schemaDataSource = this.updateDataSource(state.schema)\n\n    this.columns = [\n      {\n        title: 'Key',\n        dataIndex: 'name',\n        key: 'key',\n      },\n      {\n        title: 'Description',\n        dataIndex: 'doc',\n        key: 'doc'\n      },\n      {\n        title: <div className=\"ant-radio-group ant-radio-group-outline ant-radio-group-small\">\n          <span className=\"ant-radio-button-wrapper\" onClick={() => this.handlingAdd()}>\n            <span>Add <PlusIcon /></span>\n          </span>\n        </div>,\n        dataIndex: 'actions',\n        key: 'actions',\n        align: \"right\"\n      },\n    ];\n\n    return(state)\n  }\n\n  fireOnChange() {\n    const ex = this.state.schema.export()\n    // this.state.schema.compile(ex)\n\n    // fire on change for exporting the new schema\n    this.onChange(ex)\n  }\n\n  itemChanged(arg) {\n\n    if (arg.edition === true) {\n      const lineup = this.state.schema.getLineup(arg.oldPath);\n\n      // delete org\n      this.state.schema.removeLineup(arg.oldPath)\n\n      // put new\n      this.state.schema.setLineup(arg.newPath, arg.value)\n\n      notification.success({\n        message: \"Field updated\",\n        description: `Field at ${arg.oldPath} has been successfully updated`\n      })\n    }\n\n    // manage addition\n    else {\n      // just put the new one\n      this.state.schema.setLineup(arg.newPath, arg.value)\n\n      notification.success({\n        message: \"Field added\",\n        description: `Field at ${arg.newPath} has been successfully added`\n      })\n    }\n\n    this.fireOnChange();\n\n    this.setState({\n      modal: false,\n      modalContent: null,\n      modalUser: null,\n      schemaDataSource: this.updateDataSource(this.state.schema)\n    });\n  }\n\n  itemRemove(item) {\n    this.state.schema.removeLineup(item.$_wire);\n\n    this.fireOnChange();\n\n    this.setState({\n      schemaDataSource: this.updateDataSource(this.state.schema)\n    });\n\n    notification.success({\n      message: \"Field removed\",\n      description: `Field at ${item.$_wire} has been successfully removed`\n    })\n  }\n\n  handlingAdd(path) {\n    path = path || \".\";\n\n    const lineup = this.state.schema.getLineup(path) || this.state.schema.handler.schema;\n\n    const state = {\n      modal: true, \n      modalContent: null, \n      modalUser: lineup\n    }\n\n    this.setState(state);\n  }\n\n  handlingEdit(item) {\n    const path = item.$_wire || \".\";\n\n    const lineup = this.state.schema.getLineup(path) || this.state.schema.handler.schema;\n\n    const state = {\n      modal: true, \n      modalContent: item, \n      modalUser: lineup\n    }\n\n    this.setState(state);\n  }\n\n  updateDataSource(root) {\n    const self = this;\n    function fieldify2antDataTable(schema, wire) {\n      if (!wire)\n        wire = \"\";\n      const current = [];\n      utils.orderedRead(schema, (index, item) => {\n        var path = wire + \".\" + item.$_key;\n        item.$_path = path;\n\n        // Is array\n        if (Array.isArray(item)) {\n          path = wire + \".\" + item[0].$_key;\n          item[0].$_path = path;\n          item[0].$_array = true;\n\n          var composite = <Tooltip title=\"... of objects\">\n            <Tag color=\"#722ed1\"><ObjectIcon /></Tag>\n          </Tooltip>;\n          // for direct type assignation\n          if (\"$type\" in item[0]) {\n            const TypeInfo = item[0].$type.Info;\n            composite = <TypeInfo />;\n          }\n          else {\n            item[0].$_nested = true;\n          }\n\n          current.push({\n            ptr: item[0],\n            key: path,\n            name: <div>\n              <Tooltip title=\"This field is an array ...\">\n                <Tag color=\"#eb2f96\"><ArrayIcon /></Tag>\n              </Tooltip>\n              {composite}\n              <strong>{item[0].$_key}</strong>\n            </div>,\n            doc: item[0].$doc,\n            children: !(\"$type\" in item[0]) ? fieldify2antDataTable(item[0], path) : null,\n            actions: <div className=\"ant-radio-group ant-radio-group-outline ant-radio-group-small\">\n              <Popconfirm title={<span>Are you sure to delete the Array <strong>{path}</strong></span>} onConfirm={() => self.itemRemove(item[0])} okText=\"Yes\" cancelText=\"No\">\n                <span className=\"ant-radio-button-wrapper\">\n                  <span><DeleteIcon /></span>\n                </span>\n              </Popconfirm>\n\n\n              <span className=\"ant-radio-button-wrapper\" onClick={() => self.handlingEdit(item[0])}>\n                <span><EditIcon /></span>\n              </span>\n\n              {!(\"$type\" in item[0]) ?\n                <span className=\"ant-radio-button-wrapper\" onClick={() => self.handlingAdd(path)}>\n                  <span><PlusIcon /></span>\n                </span>\n                : null}\n            </div>\n          });\n        }\n        // is object\n        else if (typeof item === \"object\" && !item.$type) {\n          item.$_nested = true;\n          current.push({\n            ptr: item,\n            key: path,\n            name: <div>\n              <Tooltip title=\"This field is an object\">\n                <Tag color=\"#722ed1\"><ObjectIcon /></Tag>\n              </Tooltip>\n              <strong>{item.$_key}</strong>\n            </div>,\n            doc: item.$doc,\n            children: fieldify2antDataTable(item, path),\n            actions: <div className=\"ant-radio-group ant-radio-group-outline ant-radio-group-small\">\n              <Popconfirm title={<span>Are you sure to delete Object <strong>{path}</strong></span>} onConfirm={() => self.itemRemove(item)} okText=\"Yes\" cancelText=\"No\">\n                <span className=\"ant-radio-button-wrapper\">\n                  <span><DeleteIcon /></span>\n                </span>\n              </Popconfirm>\n\n              <span className=\"ant-radio-button-wrapper\" onClick={() => self.handlingEdit(item)}>\n                <span><EditIcon /></span>\n              </span>\n\n              <span className=\"ant-radio-button-wrapper\" onClick={() => self.handlingAdd(path)}>\n                <span><PlusIcon /></span>\n              </span>\n            </div>\n          });\n        }\n        else {\n          const TypeInfo = item.$type.Info;\n          current.push({\n            ptr: item,\n            key: path,\n            name: <div>\n              <TypeInfo /> {item.$_key}\n            </div>,\n            doc: item.$doc,\n            actions: <div className=\"ant-radio-group ant-radio-group-outline ant-radio-group-small\">\n              <Popconfirm title={<span>Are you sure to delete <strong>{path}</strong></span>} onConfirm={() => self.itemRemove(item)}\n                // onCancel={cancel}\n                okText=\"Yes\" cancelText=\"No\">\n                <span className=\"ant-radio-button-wrapper\">\n                  <span><DeleteIcon /></span>\n                </span>\n              </Popconfirm>\n\n              <span className=\"ant-radio-button-wrapper\" onClick={() => self.handlingEdit(item)}>\n                <span><EditIcon /></span>\n              </span>\n            </div>\n          });\n        }\n      });\n      return (current);\n    }\n\n    var data = null;\n    if (root) {\n      data = fieldify2antDataTable(root.handler.schema);\n      return (data)\n    }\n\n    return ([])\n  }\n\n  render() {\n    const sds = this.state.schemaDataSource;\n\n    return (<div>\n      <FieldifySchemaBuilderModal\n        user={this.state.modalUser}\n        visible={this.state.modal}\n        value={this.state.modalContent}\n        onCancel={() => this.setState({ modal: false })}\n        onOk={this.itemChanged.bind(this)}\n      />\n\n      <Table columns={this.columns} dataSource={sds} size=\"small\" pagination={{\n        total: sds.length,\n        pageSize: sds.length,\n        hideOnSinglePage: true\n      }} expandable={{ defaultExpandAllRows: true }} />\n    </div>);\n  }\n}","import { utils, input as FieldifyInput } from \"fieldify\";\nimport React from 'react';\nimport RecycledComponent from 'react-recycling';\n\nimport { Form, Table, Button, Input, Card } from \"antd\";\nimport {\n  PlusOutlined as PlusIcon,\n  DeleteOutlined as DeleteIcon\n} from '@ant-design/icons';\n\nimport { FieldifySchema } from \"../Schema/Schema\";\nimport { TypeDataset } from \"../lib/TypeDataset\";\n\nexport class FieldifySchemaRender extends RecycledComponent {\n  cycle(props) {\n    const state = {\n      layout: props.layout,\n      schema: props.schema,\n      input: props.input,\n    }\n\n    return(state)\n  }\n\n  render() {\n    return (<TypeDataset\n      schema={this.state.schema}\n      input={this.state.input}\n      actions={false}\n      layout={this.state.layout}\n      generator=\"Render\"\n    />);\n  }\n}\n","import { input } from \"fieldify\"\n\nimport React from 'react'\nimport styles from './styles.module.css'\n\nimport * as schema from './Schema'\nimport types from './Types'\n\n// just map the input class from fieldify\nexport class Input extends input {}\n\n// export the schema\nexport const Schema = schema;\n\n// export types\nexport const Types = types;\n\n// get current version\nimport pack from '../package.json'\nexport const Version = pack.version;\n\nimport \"antd/dist/antd.css\";\n\n"],"names":["FieldifyTypeForm","Component","constructor","props","state","cycle","componentDidUpdate","schema","setState","value","verify","feedback","status","options","isInjected","onChange","onError","help","$help","$options","handler","$_type","timedChange","cb","speed","_changeTimer","_changeTimerQueue","_changeTimerCb","setTimeout","changeValue","_lastValue","end","ret","error","message","render","children","$doc","$required","marginBottom","sm","FieldifyTypeRender","RecycledComponent","injected","subRender","width","SignderivaTypeInfo","match","path","prevProps","prevState","SignderivaTypeBuilder","default","pNew","pOld","changed","key","o","n","setup","prev","a","p","configure","changeIt","change","Object","assign","StringForm","TypeForm","Input","placeholder","target","StringRender","TypeRender","StringInfo","TypeInfo","color","Icon","StringBuilder","TypeBuilder","minSize","maxSize","code","types","String","description","class","Info","Builder","Form","Render","TString","NameForm","result","from","setField","first","last","NameInfo","NameRender","getDerivedStateFromProps","final","trim","NameBuilder","Name","noFormItem","EmailForm","EmailInfo","EmailRender","EmailBuilder","subAddressing","Checkbox","checked","Email","NumberForm","NumberInfo","NumberRender","NumberBuilder","Number","CheckboxForm","CheckboxInfo","CheckboxRender","CheckboxBuilder","DateTimePickerForm","DatePicker","date","format","DateTimePickerInfo","DateTimePickerRender","DateTimePickerBuilder","DateTimePicker","DatePickerForm","dateString","DatePickerInfo","DatePickerRender","DatePickerBuilder","RangePicker","DatePickerRangeForm","res","to","DatePickerRangeInfo","DatePickerRangeRender","DatePickerRangeBuilder","DatePickerRange","TimePickerForm","TimePicker","TimePickerInfo","TimePickerRender","TimePickerBuilder","TimePickerRangeForm","TimePickerRangeInfo","TimePickerRangeRender","TimePickerRangeBuilder","TimePickerRange","SelectForm","items","updateItems","push","Select","SelectInfo","SelectRender","ptr","SelectBuilder","_radioVertical","display","height","lineHeight","RadioForm","style","horizontal","Radio","RadioInfo","RadioRender","RadioBuilder","ObjectClass","fieldifyType","ArrayClass","configuration","min","$type","max","FieldNameForm","input","user","msg","FieldNameInfo","FieldNameBuilder","FieldName","KVForm","modal","modalCurrent","dataTree","dataSource","computeDataSource","tree","ds","actions","removeKey","DeleteIcon","openModal","EditIcon","handleModalChange","data","modalError","modalInitial","editedButton","mc","type","modalErrorMessage","onCancel","columns","title","dataIndex","PlusIcon","align","layout","labelCol","span","wrapperCol","bind","total","length","pageSize","hideOnSinglePage","KVInfo","KVRender","KVBuilder","KV","HashForm","HashRender","HashInfo","HashBuilder","Hash","Array","FieldifySchema","name","resolver","Types","compile","TypeDataset","formRef","React","createRef","rawSchema","rawInput","FieldifyInput","setValue","inputValue","getValue","generator","references","reactive","update","root","clickAddArray","line","set","_value","clickRemoveArrayItem","remove","up","follower","schematized","utils","orderedRead","index","item","source","isArray","schematizedSrc","$_key","sourceSchematized","inputPtr","lineKey","$_array","inputPtr2","$array","$_nested","child","toPush","form","ref","$_wire","$_access","handlerSchematized","FieldifySchemaForm","allTypes","allTypesNoArray","baseSchema","$position","doc","position","$default","acceptedTypes","FieldifySchemaBuilderModal","currentSchema","visible","edition","original","initialPath","val","required","read","$read","write","$write","content","driveSchema","force","Type","currentType","TypeObject","formChanged","handleOK","nvalue","split","pop","npath","join","$key","$content","no","getNO","nestedObject","onOk","oldPath","newPath","FieldifySchemaBuilder","modalUser","schemaDataSource","updateDataSource","handlingAdd","fireOnChange","ex","export","itemChanged","arg","lineup","getLineup","removeLineup","setLineup","notification","success","modalContent","itemRemove","handlingEdit","self","fieldify2antDataTable","wire","current","$_path","composite","ObjectIcon","ArrayIcon","sds","defaultExpandAllRows","FieldifySchemaRender","Schema","Version","pack","version"],"mappings":"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"}