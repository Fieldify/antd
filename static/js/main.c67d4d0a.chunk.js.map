{"version":3,"sources":["../../src/lib/TypeForm.js","../../src/lib/TypeRender.js","../../src/lib/TypeInfo.js","../../src/lib/TypeBuilder.js","../../src/Types/String.js","../../src/Types/Name.js","../../src/Types/Email.js","../../src/Types/Number.js","../../src/Types/Checkbox.js","../../src/Types/DateTimePicker.js","../../src/Types/DatePicker.js","../../src/Types/DatePickerRange.js","../../src/Types/TimePicker.js","../../src/Types/TimePickerRange.js","../../src/Types/Select.js","../../src/Types/Radio.js","../../src/Types/Object.js","../../src/Types/Array.js","../../src/Types/FieldName.js","../../src/Types/KV.js","../../src/Types/Hash.js","../../src/Types.js","../../src/Schema/Schema.js","../../src/lib/TypeDataset.js","../../src/Schema/Form.js","../../src/Schema/BuilderModal.js","../../src/Schema/Builder.js","../../src/Schema/Render.js","../../src/index.js","../../../fieldify/lib/utils.js","../../../fieldify/lib/fusion.js","../../../fieldify/lib/assign.js","../../../fieldify/lib/iterator.js","../../../fieldify/lib/compile.js","../../../fieldify/lib/types/index.js","../../../fieldify/index.js","../../../fieldify/lib/schema.js","../../../fieldify/lib/set.js","../../../fieldify/lib/types/String.js","../../../fieldify/lib/types/Number.js","../../../fieldify/lib/types/NumberPicker.js","../../../fieldify/lib/types/Select.js","../../../fieldify/lib/types/Radio.js","../../../fieldify/lib/types/Name.js","../../../fieldify/lib/types/Email.js","../../../fieldify/lib/types/Checkbox.js","../../../fieldify/lib/types/Hash.js","../../../fieldify/lib/types/URL.js","../../../fieldify/lib/types/DateTimePicker.js","../../../fieldify/lib/types/DatePicker.js","../../../fieldify/lib/types/DatePickerRange.js","../../../fieldify/lib/types/TimePicker.js","../../../fieldify/lib/types/TimePickerRange.js","../../../fieldify/lib/types/Slug.js","../../../fieldify/lib/types/Color.js","../../../fieldify/lib/types/FieldName.js","../../../fieldify/lib/types/KV.js","../../../fieldify/lib/input.js","App.js","fieldify.png","index.js","../../../fieldify/lib/types/type.js"],"names":["constructor","componentDidUpdate","this","props","schema","cycle","state","value","verify","feedback","status","options","$options","timedChange","cb","setTimeout","changeValue","speed","end","ret","help","error","message","render","isInjected","Form","label","required","validateStatus","hasFeedback","style","marginBottom","wrapperCol","sm","Component","injected","subRender","width","pNew","pOld","prevProps","changed","setup","default","a","configure","changeIt","change","Object","Input","placeholder","onChange","target","React","Tag","color","Icon","minSize","maxSize","Space","InputNumber","min","code","types","description","class","Info","Builder","Render","StringRender","StringForm","TString","setField","Row","gutter","Col","className","span","getDerivedStateFromProps","final","noFormItem","MailOutlined","subAddressing","Checkbox","checked","EmailRender","NumberRender","CheckboxRender","DatePicker","showTime","defaultValue","date","FieldTimeOutlined","DateTimePickerRender","DatePickerRender","RangePicker","res","from","dateString","to","DatePickerRangeRender","TimePicker","TimePickerRender","TimePickerRangeRender","updateItems","items","Select","key","ptr","SelectRender","_radioVertical","display","height","lineHeight","horizontal","Radio","RadioRender","fieldifyType","configuration","$doc","$required","$type","max","input","msg","String","FieldNameForm","computeDataSource","ds","tree","actions","onClick","DeleteIcon","EditIcon","handleModalChange","modalCurrent","openModal","modalError","modalInitial","data","modal","removeKey","editedButton","mc","type","columns","title","dataIndex","PlusIcon","align","layout","labelCol","Modal","centered","closable","visible","onOk","bind","onCancel","Alert","size","Table","dataSource","pagination","total","pageSize","hideOnSinglePage","showHeader","KVRender","Name","Email","Number","DateTimePicker","DatePickerRange","TimePickerRange","Hash","HashRender","Array","FieldName","KV","resolver","Types","FieldifySchema","FieldifyInput","update","root","getValue","clickAddArray","_value","inputValue","reactive","clickRemoveArrayItem","setValue","follower","schematized","line","utils","source","item","schematizedSrc","sourceSchematized","inputPtr","lineKey","inputPtr2","child","toPush","form","Button","TypeForm","user","onError","noStyle","Card","extra","verticalAlign","bordered","formRef","name","generator","allTypes","allTypesNoArray","baseSchema","$position","doc","position","$default","acceptedTypes","setState","edition","original","val","read","write","content","driveSchema","Type","currentSchema","formChanged","result","handleOK","nvalue","npath","no","p","oldPath","newPath","ref","modalUser","schemaDataSource","updateDataSource","fireOnChange","ex","itemChanged","arg","getLineup","notification","modalContent","itemRemove","handlingAdd","path","handler","handlingEdit","self","wire","current","composite","Tooltip","ObjectIcon","TypeInfo","ArrayIcon","children","fieldify2antDataTable","Popconfirm","onConfirm","okText","cancelText","sds","expandable","defaultExpandAllRows","Schema","Version","pack","leafRegex","internal","$maxArray","module","exports","leaf","leafPrivate","isThereSubObject","hasOwnProperty","test","isThereObjectParams","eachObject","objs","executor","aObjects","push","process","nextTick","next","o","shift","undefined","eachItem","list","index","isArray","sync","finish","exec","getNO","nestedObject","nestedOptions","substr","orderedRead","dup","ordered","values","sort","b","length","_specialClone","dst","src","require","fieldifyAssignator","lkey","first","save","keys","fieldifyIteratorBuffer","level","onAssign","onEnter","onLeave","onEnd","oend","iterator","object","arrayResult","next2","arraySchema","$_nested","branch","useless","subResult","access","$_access","fib","fusion","fieldifyHandler","orgSchema","_access","_accessStack","tmpAccess","ptrS","noIn","subLine","drive","$_array","pop","NumberPicker","URL","Slug","Color","assign","compile","version","set","currentSet","fieldifySchema","get","load","policy","localAssigner","$_key","split","typeClass","console","$_type","$_wire","$_hidden","rkey","correctedOptions","sanatizeOptions","nonTypeSchematized","typeSchematized","schematizer","patch","extract","$_schematized","handlerSchematized","pv","opts","$write","fields","Promise","resolve","reject","output","_filterLine","flow","direction","lineup","beforeLast","bLast","last","obj","injection","oldLineup","newLineup","saved","newKey","$read","filter","fieldifySet","sets","signderivaType","strictRegex","noUnicodeRegex","signderivaTypeString","Error","strict","match","unicode","$help","onlyNumber","onlyFloat","isInt","n","isFloat","signderivaTypeNumber","isNaN","conv","parseInt","parseFloat","both","integer","float","signderivaTypeNumberPicker","fieldifyTypeSelector","fieldifyTypeRadio","signderivaTypeName","regex","signderivaTypeEmailAddress","toLowerCase","fieldifyTypeCheckbox","_sha1","_sha256","_sha512","signderivaTypeHash","mode","sha1Verifier","sha512Verifier","sha256Verifier","sha1","sha256","sha512","signderivaTypeURL","maxLength","minLength","signderivaTypeDateTimePicker","signderivaTypeDatePicker","signderivaTypeDatePickerRange","signderivaTypeTimePicker","signderivaTypeTimePickerRange","signderivaTypeSlug","signderivaTypeColor","validation","fieldifyTypeFieldName","signderivaTypeKV","count","fieldifyInput","verifying","node","create","schemaCur","inputCur","field","inArray","splice","FieldifySchemaBuilder","FieldifySchemaForm","FieldifySchemaRender","TabPane","Tabs","App","company","email","age","address","home","street","zip","country","work","nestedArray","price","$array","inlinedArray","inlinedArrayString","inputRender","selector","builder","rendered","json","JSON","stringify","padding","margin","href","fVersion","faVersion","xxl","defaultActiveKey","tab","builderChanged","Item","Group","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.c67d4d0a.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Col,\n  Row,\n  Form\n} from \"antd\";\n\nexport default class FieldifyTypeForm extends Component {\n  constructor(props) {\n    super(props)\n    this.state = this.cycle(props)\n  }\n\n\n  componentDidUpdate(props, state) {\n    if (this.props.schema !== props.schema) {\n      const cycle = this.cycle(this.props);\n      this.setState(cycle)\n    }\n  }\n\n  cycle(props) {\n    this.schema = props.schema;\n    \n    const state = {\n      value: props.value,\n      verify: props.verify,\n      feedback: false,\n      status: null,\n      options: {}\n    }\n\n    this.isInjected = props.isInjected;\n\n    this.onChange = props.onChange ? props.onChange : () => { };\n    this.onError = props.onError ? props.onError : () => { };\n\n    if (!this.schema) {\n      this.schema = {}\n      return (state)\n    }\n\n    state.help = this.schema.$help;\n    state.options = this.schema.$options || {};\n    this.handler = this.schema.$_type;\n\n\n    // if (props.verify === true) {\n    //   this.verify(props.value, (ret) => {\n    //     this.state = { ...this.state, ...ret }\n    //   })\n    // }\n\n    return (state)\n  }\n\n  timedChange(cb, speed) {\n    if (this._changeTimer) {\n      this._changeTimerQueue++;\n      this._changeTimerCb = cb;\n      return;\n    }\n\n    cb = cb || this._changeTimerCb;\n    if (!cb) return;\n\n    delete this._changeTimerCb;\n    this._changeTimerQueue = 0;\n    this._changeTimer = setTimeout(() => {\n      cb(() => {\n        delete this._changeTimer;\n\n        // update in queue ?\n        if (this._changeTimerQueue > 0) {\n          this.timedChange(cb, speed);\n        }\n      })\n    }, speed)\n  }\n\n  changeValue(value, speed) {\n    speed = speed || 100;\n    this.setState({\n      value: value\n    })\n\n    this._lastValue = value;\n\n    this.timedChange((end) => {\n      this.verify(this._lastValue, (ret) => {\n        this.setState(ret);\n        if (ret.status !== \"success\") {\n          end();\n          return;\n        }\n        // console.log(\"TypeForm\", this.schema, this._lastValue);\n        this.onChange(this.schema, this._lastValue);\n        end();\n      })\n    }, speed)\n  }\n\n  verify(value, cb) {\n    if(!this.handler) {\n      return (cb({\n        status: \"error\",\n        feedback: true,\n        help: \"No Handler on verifier\"\n      }))\n    }\n    \n    this.handler.verify(value, (error, message) => {\n      if (error === false) {\n        this.onError(false);\n        return (cb({\n          status: \"success\",\n          feedback: true,\n          help: null\n        }));\n      }\n\n      \n      this.onError(true, message);\n      return (cb({\n        status: \"error\",\n        feedback: true,\n        help: message\n      }))\n    })\n  }\n\n\n  render(children) {\n    // return(children)\n\n    if (this.isInjected === true) return (\n      <Form.Item\n        label={this.schema.$doc}\n        required={this.schema.$required}\n        validateStatus={this.state.status}\n        hasFeedback={this.state.feedback}\n        help={this.state.help}\n        style={{ marginBottom: \"0px\" }}\n        wrapperCol={{ sm: 24 }}\n      >\n        {children}\n      </Form.Item>\n    )\n\n    return (\n      <Form.Item\n        label={this.schema.$doc}\n        required={this.schema.$required}\n        validateStatus={this.state.status}\n        hasFeedback={this.state.feedback}\n        help={this.state.help}\n        style={{ marginBottom: \"8px\" }}\n        wrapperCol={{ sm: 24 }}\n      >\n        {children}\n      </Form.Item>\n    )\n  }\n}\n\n","import React, { Component } from 'react';\nimport RecycledComponent from 'react-recycling';\n\nimport {\n  Col,\n  Row,\n  Form,\n  Input\n} from \"antd\";\n\nexport default class FieldifyTypeRender extends RecycledComponent {\n\n  cycle(props) {\n    const state = {\n      schema: props.schema,\n      value: props.value,\n      injected: props.injected\n    }\n\n    return (state)\n  }\n\n  subRender(children) {\n\n    if(this.state.injected === true) {\n      return (\n        <Form.Item\n          label={this.state.schema.$doc}\n          hasFeedback={true}\n          validateStatus=\"success\"\n          style={{ marginBottom: \"0px\" }}\n          wrapperCol={{ sm: 24 }}\n        >\n          {children}\n        </Form.Item>\n      )\n    }\n    return (\n      <Form.Item\n        label={this.state.schema.$doc}\n        hasFeedback={true}\n        validateStatus=\"success\"\n      >\n        {children}\n      </Form.Item>\n    )\n  }\n\n  render() {\n    return (this.subRender(\n      <div style={{ width: \"100%\" }}>\n        {this.state.value}\n      </div>\n    ));\n  }\n}\n\n","import { Component } from 'react';\n\nexport default class SignderivaTypeInfo extends Component {\n  constructor(props) {\n    super(props)\n    this.props = props;\n    if (props.match) this.path = props.match.path;\n    this.state = {}\n  }\n\n\n  componentDidUpdate(prevProps, prevState) {\n    const pNew = this.props.schema || {};\n    const pOld = prevProps.schema || {};\n    // console.log(\"SignderivaTypeInfo.update\", pOld, pNew)\n  }\n\n}\n\n","import { Component } from 'react';\n\nexport default class SignderivaTypeBuilder extends Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.onChange = props.onChange ? props.onChange : () => { };\n\n    if (props.match) this.path = props.match.path;\n\n    this.state = { ...props.options };\n\n    this.default = {};\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const pNew = this.props.options || {};\n    const pOld = prevProps.options || {};\n    \n    var changed = 0;\n    for (var key in this.default) {\n      const o = pOld[key];\n      const n = pNew[key];\n      if (o !== n)\n        changed++;\n    }\n\n    // console.log(\"TypeBuilder.update\", changed, pOld, pNew)\n    if (changed > 0) {\n      this.setState(pNew);\n      this.onChange({...pNew});\n    }\n    \n  }\n\n  setup(prev) {\n    // console.log(\"setup\")\n    const state = { ...prev };\n\n    // clean non valid field\n    for (var a in state) {\n      const p = this.default[a];\n      if (!p) delete state[a]\n    }\n\n    // setup default\n    for (var a in this.default) {\n      if (!(a in state))\n        state[a] = this.default[a];\n    }\n    return (state);\n  }\n\n  configure() {\n    this.state = this.setup(this.state);\n    this.onChange({ ...this.state });\n  }\n\n  changeIt(key, value) {\n    const change = Object.assign({}, this.state);\n    change[key] = value;\n\n    // console.log(\"TypeBuilder\", change)\n    this.setState(change);\n    this.onChange({...change});\n  }\n\n}\n","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  InputNumber,\n  Form,\n  Space,\n  Tag,\n  Input,\n  Col,\n  Row\n} from \"antd\";\n\nimport { FieldStringOutlined as Icon } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass StringForm extends TypeForm {\n  render() {\n    return (super.render(\n      <Input \n      value={this.state.value} \n      placeholder={this.state.options.placeholder} \n      onChange={({ target }) => this.changeValue(target.value)} \n      style={{width: \"100%\"}}\n      />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass StringRender extends TypeRender {\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass StringInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#fadb14\" style={{ color: \"#555555\" }}><Icon /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass StringBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.default = {\n      minSize: 1,\n      maxSize: 128\n    }\n\n    this.configure()\n  }\n\n  render() {\n    return (\n      <div>\n        <Form.Item label=\"String min/max size\">\n          <Space>\n            <InputNumber min={0} value={this.state.minSize} onChange={(value) => this.changeIt(\"minSize\", value)} />\n\n            <InputNumber min={0} value={this.state.maxSize} onChange={(value) => this.changeIt(\"maxSize\", value)} />\n          </Space>\n        </Form.Item>\n\n      </div>\n    )\n  }\n}\n\n/* <div class=\"ant-form-item-control-input\">\n  <div class=\"ant-form-item-control-input-content\">\n    <input type=\"text\" class=\"ant-input\" value=\"vdvfsdvfdsvfds\" style=\"width: 100%;\">\n      </div><span class=\"ant-form-item-children-icon\">\n        <span role=\"img\" aria-label=\"check-circle\" class=\"anticon anticon-check-circle\">\n          <svg viewBox=\"64 64 896 896\" focusable=\"false\" class=\"\" data-icon=\"check-circle\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\">\n            <path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z\">\n              </path>\n              </svg>\n              </span>\n              </span>\n              </div> */\n\n\n\nexport default {\n  code: types.String.code,\n  description: types.String.description,\n  class: types.String.class,\n\n  Info: StringInfo,\n  Builder: StringBuilder,\n  Form: StringForm,\n  Render: StringRender,\n}\n\n\n","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  InputNumber,\n  Form,\n  Space,\n  Tag,\n  Input,\n  Col,\n  Row\n} from \"antd\";\n\nimport { UserSwitchOutlined as Icon } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\nimport TString from './String';\n\nconst StringForm = TString.Form\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass NameForm extends TypeForm {\n  constructor(props) {\n    super(props)\n  }\n\n  cycle(props) {\n    const ret = super.cycle(props)\n    if (!ret.value) ret.value = {}\n    \n    this.result = {...ret.value}\n    return (ret)\n  }\n\n  error(from, error, message) {\n    // this.setState({\n    //   help: \"Please fill the form\"\n    // })\n  }\n\n  setField(key, schema, value) {\n    this.result[key] = value;\n    this.onChange(this.schema, this.result);\n  }\n\n  render() {\n\n    return (super.render(\n      <Row gutter={16}>\n        <Col className=\"gutter-row\" span={12}>\n          <StringForm\n            schema={this.schema.first}\n            verify={this.state.verify}\n            value={this.state.value.first}\n            onChange={(schema, value) => this.setField(\"first\", schema, value)}\n            // onError={(error, message) => this.error(\"first\", error, message)}\n            isInjected={true}\n          />\n        </Col>\n        <Col className=\"gutter-row\" span={12}>\n          <StringForm\n            schema={this.schema.last}\n            verify={this.state.verify}\n            value={this.state.value.last}\n            onChange={(schema, value) => this.setField(\"last\", schema, value)}\n            // onError={(error, message) => this.error(\"last\", error, message)}\n            isInjected={true}\n          />\n        </Col>\n      </Row>\n    ))\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass NameInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#36cfc9\" style={{ color: \"#555555\" }}><Icon /></Tag>\n      </span>\n    )\n  }\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass NameRender extends TypeRender {\n  static getDerivedStateFromProps(props, state) {\n    if(state.value && typeof state.value === \"object\") {\n      var final = \"\"\n\n      if(state.value.first) final += state.value.first\n      if(state.value.last) final += \" \"+state.value.last\n\n      state.value = final.trim()\n    }\n    return(state)\n  }\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass NameBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.default = {\n      minSize: 1,\n      maxSize: 128\n    }\n\n    this.configure()\n  }\n\n  render() {\n    return (\n      <div>\n        <Form.Item label=\"Name min/max size\">\n          <Space>\n            <InputNumber min={0} value={this.state.minSize} onChange={(value) => this.changeIt(\"minSize\", value)} />\n\n            <InputNumber min={0} value={this.state.maxSize} onChange={(value) => this.changeIt(\"maxSize\", value)} />\n          </Space>\n        </Form.Item>\n\n      </div>\n    )\n  }\n}\n\nexport default {\n  code: types.Name.code,\n  description: types.Name.description,\n  class: types.Name.class,\n\n  Info: NameInfo,\n  Builder: NameBuilder,\n  Form: NameForm,\n  Render: NameRender,\n\n  noFormItem: true\n}\n\n\n","import { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  Checkbox,\n  Form,\n  Tag,\n  Input,\n  Col,\n  Row\n} from \"antd\";\n\nimport { MailOutlined } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass EmailForm extends TypeForm {\n  render() {\n    return (super.render(\n      <Input value={this.state.value} placeholder={this.state.options.placeholder} onChange={({ target }) => this.changeValue(target.value)} />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass EmailInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#1890ff\"><MailOutlined /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass EmailRender extends TypeRender {\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Complement builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass EmailBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.default = {\n      subAddressing: true\n    }\n\n    this.configure()\n  }\n\n  render() {\n    return (\n      <div>\n        <Form.Item label=\"Sub-addressing\">\n          <Checkbox checked={this.state.subAddressing} onChange={({ target }) => this.changeIt(\"subAddressing\", target.checked)}>Allowed</Checkbox>\n        </Form.Item>\n      </div>\n    )\n  }\n}\n\n\nexport default {\n  code: types.Email.code,\n  description: types.Email.description,\n  class: types.Email.class,\n\n  Info: EmailInfo,\n  Builder: EmailBuilder,\n  Form: EmailForm,\n  Render: EmailRender\n}","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  InputNumber,\n  Form,\n  Space,\n  Tag,\n  Input,\n  Col,\n  Row\n} from \"antd\";\n\nimport { NumberOutlined as Icon } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass NumberForm extends TypeForm {\n  render() {\n    return (super.render(\n      <InputNumber \n      value={this.state.value} \n      placeholder={this.state.options.placeholder} \n      onChange={(value) => this.changeValue(value)} \n      style={{width: \"100%\"}}\n      />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass NumberInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#ff7a45\"><Icon /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass NumberRender extends TypeRender {\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass NumberBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.default = {\n      minSize: 1,\n      maxSize: 128\n    }\n\n    this.configure()\n  }\n\n  render() {\n    return (\n      <div>\n      </div>\n    )\n  }\n}\n\nexport default {\n  code: types.Number.code,\n  description: types.Number.description,\n  class: types.Number.class,\n\n  Info: NumberInfo,\n  Builder: NumberBuilder,\n  Form: NumberForm,\n  Render: NumberRender\n}\n\n\n","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  InputNumber,\n  Form,\n  Space,\n  Tag,\n  Input,\n  Col,\n  Row,\n  Checkbox\n} from \"antd\";\n\nimport { CheckSquareOutlined as Icon } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\nimport TypeRender from '../lib/TypeRender';\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass CheckboxForm extends TypeForm {\n  render() {\n    return (super.render(\n      <Checkbox\n        checked={this.state.value}\n        onChange={({ target }) => this.changeValue(target.checked)}\n        style={{ width: \"100%\" }}\n      >\n        {this.state.options.placeholder}\n      </Checkbox>\n    ))\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass CheckboxInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#85144b\" style={{ color: \"white\" }}><Icon /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass CheckboxRender extends TypeRender {\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass CheckboxBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n    this.configure()\n  }\n\n}\n\nexport default {\n  code: types.Checkbox.code,\n  description: types.Checkbox.description,\n  class: types.Checkbox.class,\n\n  Info: CheckboxInfo,\n  Builder: CheckboxBuilder,\n  Form: CheckboxForm,\n  Render: CheckboxRender,\n}\n\n\n","import { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  Checkbox,\n  Form,\n  Tag,\n  Input,\n  Col,\n  Row,\n  DatePicker\n} from \"antd\";\n\nimport { FieldTimeOutlined } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DateTimePickerForm extends TypeForm {\n  render() {\n    return (super.render(\n      <DatePicker showTime defaultValue={this.state.value} onChange={(date) => {\n        if(date) this.changeValue(date.format())\n        else this.changeValue(null)\n      }}\n      />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DateTimePickerInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#fa541c\"><FieldTimeOutlined /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DateTimePickerRender extends TypeRender {\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Complement builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DateTimePickerBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n    this.configure()\n  }\n}\n\n\nexport default {\n  code: types.DateTimePicker.code,\n  description: types.DateTimePicker.description,\n  class: types.DateTimePicker.class,\n\n  Info: DateTimePickerInfo,\n  Builder: DateTimePickerBuilder,\n  Form: DateTimePickerForm,\n  Render: DateTimePickerRender\n}","import { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  Checkbox,\n  Form,\n  Tag,\n  Input,\n  Col,\n  Row,\n  DatePicker\n} from \"antd\";\n\nimport { FieldTimeOutlined } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DatePickerForm extends TypeForm {\n  render() {\n    return (super.render(\n      <DatePicker defaultValue={this.state.value} onChange={(date, dateString) => this.changeValue(dateString)} />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DatePickerInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#ad2102\"><FieldTimeOutlined /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DatePickerRender extends TypeRender {\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Complement builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DatePickerBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n    this.configure()\n  }\n}\n\n\nexport default {\n  code: types.DatePicker.code,\n  description: types.DatePicker.description,\n  class: types.DatePicker.class,\n\n  Info: DatePickerInfo,\n  Builder: DatePickerBuilder,\n  Form: DatePickerForm,\n  Render: DatePickerRender\n}","import { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  Checkbox,\n  Form,\n  Tag,\n  Input,\n  Col,\n  Row,\n  DatePicker\n} from \"antd\";\n\nimport { FieldTimeOutlined } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\nconst { RangePicker } = DatePicker;\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DatePickerRangeForm extends TypeForm {\n  render() {\n    return (super.render(\n      <RangePicker onChange={(date, dateString) => {\n        if(date) {\n          const res = {\n            from: dateString[0],\n            to: dateString[1],\n          }\n          this.changeValue(res);\n        }\n        else {\n          const res = {\n            from: null,\n            to: null,\n          }\n          this.changeValue(res);\n        }\n      }} />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DatePickerRangeInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#ad2102\"><FieldTimeOutlined /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DatePickerRangeRender extends TypeRender {\n  render() {\n    return (this.subRender(\n      <div style={{ width: \"100%\" }}>\n        {typeof this.state.value === \"object\" && this.state.value.from && this.state.value.to ? \n          `${this.state.value.from} - ${this.state.value.to}` : `-`}\n      </div>\n    ));\n  }\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Complement builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass DatePickerRangeBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n    this.configure()\n  }\n}\n\n\nexport default {\n  code: types.DatePickerRange.code,\n  description: types.DatePickerRange.description,\n  class: types.DatePickerRange.class,\n\n  Info: DatePickerRangeInfo,\n  Builder: DatePickerRangeBuilder,\n  Form: DatePickerRangeForm,\n  Render: DatePickerRangeRender\n}","import { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  Checkbox,\n  Form,\n  Tag,\n  Input,\n  Col,\n  Row,\n  TimePicker\n} from \"antd\";\n\nimport { FieldTimeOutlined } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass TimePickerForm extends TypeForm {\n  render() {\n    return (super.render(\n      <TimePicker defaultValue={this.state.value} onChange={(date, dateString) => this.changeValue(dateString)} />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass TimePickerInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#ad2102\"><FieldTimeOutlined /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass TimePickerRender extends TypeRender {\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Complement builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass TimePickerBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n    this.configure()\n  }\n}\n\n\nexport default {\n  code: types.TimePicker.code,\n  description: types.TimePicker.description,\n  class: types.TimePicker.class,\n\n  Info: TimePickerInfo,\n  Builder: TimePickerBuilder,\n  Form: TimePickerForm,\n  Render: TimePickerRender\n}","import { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  Checkbox,\n  Form,\n  Tag,\n  Input,\n  Col,\n  Row,\n  TimePicker\n} from \"antd\";\n\nimport { FieldTimeOutlined } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\nconst { RangePicker } = TimePicker;\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass TimePickerRangeForm extends TypeForm {\n  render() {\n    return (super.render(\n      <RangePicker onChange={(date, dateString) => {\n        if(date) {\n          const res = {\n            from: dateString[0],\n            to: dateString[1],\n          }\n          this.changeValue(res);\n        }\n        else {\n          const res = {\n            from: null,\n            to: null,\n          }\n          this.changeValue(res);\n        }\n      }} />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass TimePickerRangeInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#ad2102\"><FieldTimeOutlined /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass TimePickerRangeRender extends TypeRender {\n  render() {\n    return (this.subRender(\n      <div style={{ width: \"100%\" }}>\n        {typeof this.state.value === \"object\" ? \n          `${this.state.value.from} - ${this.state.value.to}` : `-`}\n      </div>\n    ));\n  }\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Complement builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass TimePickerRangeBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n    this.configure()\n  }\n}\n\n\nexport default {\n  code: types.TimePickerRange.code,\n  description: types.TimePickerRange.description,\n  class: types.TimePickerRange.class,\n\n  Info: TimePickerRangeInfo,\n  Builder: TimePickerRangeBuilder,\n  Form: TimePickerRangeForm,\n  Render: TimePickerRangeRender\n}","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  InputNumber,\n  Form,\n  Space,\n  Tag,\n  Input,\n  Select,\n  Col,\n  Row\n} from \"antd\";\n\nimport { SelectOutlined as Icon } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass SelectForm extends TypeForm {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      value: props.value,\n      options: {}\n    }\n\n    if (props.schema.$options) this.state.options = props.schema.$options\n\n    if(!this.state.value && this.state.options.default) {\n      this.state.value = this.state.options.default\n      // inform the change\n      this.onChange(this.schema, this.state.value);\n    }\n\n    this.state.items = this.updateItems()\n  }\n\n  updateItems() {\n    if (!this.state.options.items) return ([])\n\n    const options = []\n    for (var key in this.state.options.items) {\n      const value = this.state.options.items[key];\n      options.push(<Select.Option value={key} key={key}>{value}</Select.Option>)\n    }\n\n    return (options)\n  }\n\n  render() {\n    return (super.render(\n      <Select value={this.state.value} onChange={(value)  => this.changeValue(value)}>\n        {this.state.items}\n      </Select>\n    ))\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass SelectInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#52c41a\" style={{ color: \"white\" }}><Icon /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass SelectRender extends TypeRender {\n  static getDerivedStateFromProps(props, state) {\n    if(typeof state.value === \"string\") {\n\n      if(props.schema.$options && props.schema.$options.items) {\n        const ptr = props.schema.$options.items\n        if(ptr[state.value]) state.value = ptr[state.value]\n      }\n    }\n    return(state)\n  }\n\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass SelectBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.default = {\n      minSize: 1,\n      maxSize: 128\n    }\n\n    this.configure()\n  }\n\n  render() {\n    return (\n      <div>\n        <Form.Item label=\"Select min/max size\">\n          <Space>\n            <InputNumber min={0} value={this.state.minSize} onChange={(value) => this.changeIt(\"minSize\", value)} />\n\n            <InputNumber min={0} value={this.state.maxSize} onChange={(value) => this.changeIt(\"maxSize\", value)} />\n          </Space>\n        </Form.Item>\n\n      </div>\n    )\n  }\n}\n\nexport default {\n  code: types.Select.code,\n  description: types.Select.description,\n  class: types.Select.class,\n\n  Info: SelectInfo,\n  Builder: SelectBuilder,\n  Form: SelectForm,\n  Render: SelectRender\n}\n\n\n","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  InputNumber,\n  Form,\n  Space,\n  Tag,\n  Input,\n  Radio,\n  Col,\n  Row\n} from \"antd\";\n\nimport { FieldBinaryOutlined as Icon } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\nconst _radioVertical = {\n  display: 'block',\n  height: '30px',\n  lineHeight: '30px',\n};\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass RadioForm extends TypeForm {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      value: props.value,\n      options: {}\n    }\n\n    if (props.schema.$options) this.state.options = props.schema.$options\n\n    if (!this.state.value && this.state.options.default) {\n      this.state.value = this.state.options.default\n      // inform the change\n      this.onChange(this.schema, this.state.value);\n    }\n\n    this.state.items = this.updateItems()\n  }\n\n  componentDidUpdate(props, state) {\n    // if(state.options.default !== this.state.options.default) changed = true;\n    // if(state.items !== this.state.items) changed = true;\n    // if(state.options.horizontal !== this.state.options.horizontal) changed = true;\n\n    if (props.schema !== this.props.schema) {\n      this.setState({\n        options: props.schema.$options,\n        items: this.updateItems()\n      });\n      this.onChange(this.schema, this.state.value);\n    }\n\n    // if(changed === true) this.setState({items: this.updateItems()})\n  }\n\n  updateItems() {\n    var style = _radioVertical;\n    if(this.props.schema.$options.horizontal === true) style = null;\n    if (!this.props.schema.$options.items) return ([])\n\n    const options = []\n    for (var key in this.props.schema.$options.items) {\n      const value = this.props.schema.$options.items[key];\n      options.push(<Radio style={style} value={key} key={key}>{value}</Radio>)\n    }\n\n    return (options)\n  }\n\n  render() {\n    return (super.render(\n      <Radio.Group value={this.state.value} onChange={({ target }) => this.changeValue(target.value) }>\n        {this.state.items}\n      </Radio.Group>\n    ))\n  }\n}\n\n\n\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass RadioInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#096dd9\" style={{ color: \"white\" }}><Icon /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass RadioRender extends TypeRender {\n  static getDerivedStateFromProps(props, state) {\n    if (typeof state.value === \"string\") {\n\n      if (props.schema.$options && props.schema.$options.items) {\n        const ptr = props.schema.$options.items\n        if (ptr[state.value]) state.value = ptr[state.value]\n      }\n    }\n    return (state)\n  }\n\n}\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass RadioBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.default = {\n      minSize: 1,\n      maxSize: 128\n    }\n\n    this.configure()\n  }\n\n  render() {\n    return (\n      <div>\n        <Form.Item label=\"Radio min/max size\">\n          <Space>\n            <InputNumber min={0} value={this.state.minSize} onChange={(value) => this.changeIt(\"minSize\", value)} />\n\n            <InputNumber min={0} value={this.state.maxSize} onChange={(value) => this.changeIt(\"maxSize\", value)} />\n          </Space>\n        </Form.Item>\n\n      </div>\n    )\n  }\n}\n\nexport default {\n  code: types.Radio.code,\n  description: types.Radio.description,\n  class: types.Radio.class,\n\n  Info: RadioInfo,\n  Builder: RadioBuilder,\n  Form: RadioForm,\n  Render: RadioRender\n}\n\n\n","// this is a hidden type\n// to manage nested object\nimport { types,  fieldifyType } from 'fieldify'\n\n\nclass ObjectClass extends fieldifyType {\n}\n\n\nexport default {\n  code: \"Object\",\n  description: \"Nested Sub Object\",\n  class: ObjectClass\n}\n","// this is a hidden type\n// to manage nested object\nimport { types,  fieldifyType } from 'fieldify'\n\nclass ArrayClass extends fieldifyType {\n  configuration () {\n    return ({\n      min: {\n        $doc: 'Minimum of items',\n        $required: false,\n        $type: 'Number'\n      },\n      max: {\n        $doc: 'Maximun of items',\n        $required: false,\n        $type: 'Number'\n      }\n    })\n  }\n}\n\nexport default {\n  code: \"Array\",\n  description: \"Array\",\n  class: ArrayClass\n}\n","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  InputNumber,\n  Form,\n  Space,\n  Tag,\n  Input,\n  Col,\n  Row\n} from \"antd\";\n\nimport { FieldStringOutlined as Icon } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\nimport String from './String'\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass FieldNameForm extends String.Form { \n  constructor(props){\n    super(props)\n  }\n\n  verify(input, cb) {\n    super.verify(input, (ret)=>{\n      if(ret.status !== \"success\") {\n        return(cb(ret))\n      }\n\n      // check if the key is already used\n      if(this.props.user && input in this.props.user) {\n        const msg = `Field name already used`\n        \n        this.onError(true, msg);\n        return (cb({\n          status: \"error\",\n          feedback: true,\n          help: msg\n        }))\n      }\n\n      cb(ret)\n    })\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass FieldNameInfo extends String.Info { }\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass FieldNameBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.default = {\n      minSize: 1,\n      maxSize: 128\n    }\n\n    // this.configure()\n  }\n\n  render() {\n    return (\n      <div>\n        <Form.Item label=\"FieldName min/max size\">\n          {/* <Space>\n            <InputNumber min={0} value={this.state.minSize} onChange={(value) => this.changeIt(\"minSize\", value)} />\n\n            <InputNumber min={0} value={this.state.maxSize} onChange={(value) => this.changeIt(\"maxSize\", value)} />\n          </Space> */}\n        </Form.Item>\n\n      </div>\n    )\n  }\n}\n\nexport default {\n  code: types.FieldName.code,\n  description: types.FieldName.description,\n  class: types.FieldName.class,\n\n  Info: FieldNameInfo,\n  Builder: FieldNameBuilder,\n  Form: FieldNameForm\n}\n\n\n","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  Table,\n  Form,\n  Input,\n  Tag,\n  Modal,\n  Alert,\n  Row\n} from \"antd\";\n\nimport {\n  SmallDashOutlined as Icon,\n  EditOutlined as EditIcon,\n  DeleteOutlined as DeleteIcon,\n  UnorderedListOutlined as ObjectIcon,\n  PlusOutlined as PlusIcon,\n  CopyOutlined as ArrayIcon\n} from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass KVForm extends TypeForm {\n\n  constructor(props) {\n    super(props)\n  }\n\n  cycle(props) {\n    const ret = super.cycle(props)\n\n    if (!ret.value) ret.value = {}\n\n    this.result = { ...ret.value }\n\n    ret.modal = false\n    ret.modalCurrent = {\n      key: \"\",\n      value: \"\"\n    }\n    ret.dataTree = { ...ret.value }\n    ret.dataSource = this.computeDataSource(ret.dataTree);\n\n    return (ret)\n  }\n\n  computeDataSource(tree) {\n    const ds = []\n    for (let key in tree) {\n      const value = tree[key]\n      ds.push({\n        key: key,\n        value: value,\n        actions: <div className=\"ant-radio-group ant-radio-group-outline ant-radio-group-small\">\n          <span className=\"ant-radio-button-wrapper\" onClick={() => this.removeKey(key)}>\n            <span><DeleteIcon /></span>\n          </span>\n          <span className=\"ant-radio-button-wrapper\" onClick={() => this.openModal({ key, value })}>\n            <span><EditIcon /></span>\n          </span>\n        </div>\n      })\n    }\n    return (ds)\n  }\n\n  handleModalChange(key, value) {\n    const modalCurrent = { ...this.state.modalCurrent }\n    modalCurrent[key] = value;\n    this.setState({ modalCurrent })\n  }\n\n  openModal(data) {\n    const state = {\n      modalError: false,\n      modalInitial: null,\n      modalCurrent: data || {\n        key: \"\",\n        value: \"\"\n      },\n      modal: true\n    }\n\n    if (data) state.modalInitial = { ...state.modalCurrent }\n\n    this.setState(state)\n  }\n\n  removeKey(key) {\n    const state = { ...this.state }\n    delete state.dataTree[key]\n    state.dataSource = this.computeDataSource(state.dataTree);\n    this.setState(state)\n\n    this.changeValue(state.dataTree)\n  }\n\n  editedButton() {\n    const state = { ...this.state }\n\n    const mc = this.state.modalCurrent;\n\n    // check the key input\n    const type = this.schema.$_type;\n\n    // verify the input\n    const data = {}\n    data[mc.key] = mc.value;\n    type.verify(data, (error, message) => {\n      state.modalError = error;\n      state.modalErrorMessage = message;\n\n      if (error === false) {\n        // remove old entry and add new one\n        if (state.modalInitial) {\n          delete state.dataTree[state.modalInitial.key];\n        }\n        state.dataTree[state.modalCurrent.key] = state.modalCurrent.value\n\n        state.dataSource = this.computeDataSource(state.dataTree);\n\n        state.modal = false;\n      }\n\n      this.setState(state)\n      this.changeValue(state.dataTree)\n    })\n\n  }\n\n  render() {\n    const onCancel = () => {\n      this.setState({ modal: false });\n    };\n\n    const columns = [\n      {\n        title: 'Key',\n        dataIndex: 'key',\n        key: 'key',\n      },\n      {\n        title: 'Value',\n        dataIndex: 'value',\n        key: 'value',\n      },\n      {\n        title: <div className=\"ant-radio-group ant-radio-group-outline ant-radio-group-small\">\n          <span className=\"ant-radio-button-wrapper\" onClick={() => this.openModal()}>\n            <span>Add <PlusIcon /></span>\n          </span>\n        </div>,\n        dataIndex: 'actions',\n        key: 'actions',\n        align: \"right\"\n      },\n    ];\n\n    const layout = {\n      labelCol: { span: 8 },\n      wrapperCol: { span: 16 },\n    };\n\n    return (super.render(<div>\n      <Modal\n        centered\n        closable={false}\n        visible={this.state.modal}\n        width={300}\n        onOk={this.editedButton.bind(this)}\n        onCancel={onCancel}\n      >\n        {this.state.modalError === true ?\n          <div style={{ marginBottom: 8 }}>\n            <Alert size=\"small\" message={this.state.modalErrorMessage} type=\"error\" />\n          </div>\n\n          : null}\n\n        <Form\n          {...layout}\n        >\n          <Form.Item label=\"Key\">\n            <Input value={this.state.modalCurrent.key} onChange={({ target }) => this.handleModalChange(\"key\", target.value)} />\n          </Form.Item>\n\n          <Form.Item label=\"Value\">\n            <Input value={this.state.modalCurrent.value} onChange={({ target }) => this.handleModalChange(\"value\", target.value)} />\n          </Form.Item>\n\n        </Form>\n\n\n      </Modal>\n      <Table\n        size=\"small\"\n        dataSource={this.state.dataSource}\n        columns={columns}\n        pagination={{\n          total: this.state.dataSource.length,\n          pageSize: this.state.dataSource.length,\n          hideOnSinglePage: true\n        }}\n      />\n    </div>));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass KVInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#22075e\"><Icon /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass KVRender extends TypeRender {\n\n  cycle(props) {\n    const ret = super.cycle(props)\n\n    if (!ret.value) ret.value = {}\n\n    this.result = { ...ret.value }\n\n    ret.dataTree = { ...ret.value }\n    ret.dataSource = this.computeDataSource(ret.dataTree);\n\n    return (ret)\n  }\n\n  computeDataSource(tree) {\n    const ds = []\n    for (let key in tree) {\n      const value = tree[key]\n      ds.push({\n        key: key,\n        value: value\n      })\n    }\n    return (ds)\n  }\n\n\n  render() {\n    const columns = [\n      {\n        dataIndex: 'key',\n        key: 'key',\n      },\n      {\n        dataIndex: 'value',\n        key: 'value',\n      }\n    ];\n\n    const layout = {\n      labelCol: { span: 8 },\n      wrapperCol: { span: 16 },\n    };\n\n    return (super.subRender(<div>\n      <Table\n        showHeader={false}\n        size=\"small\"\n        dataSource={this.state.dataSource}\n        columns={columns}\n        pagination={{\n          total: this.state.dataSource.length,\n          pageSize: this.state.dataSource.length,\n          hideOnSinglePage: true\n        }}\n      />\n    </div>));\n  }\n\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass KVBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.default = {\n      minSize: 1,\n      maxSize: 128\n    }\n\n    this.configure()\n  }\n\n  render() {\n    return (\n      <div>\n      </div>\n    )\n  }\n}\n\nexport default {\n  code: types.KV.code,\n  description: types.KV.description,\n  class: types.KV.class,\n\n  Info: KVInfo,\n  Builder: KVBuilder,\n  Form: KVForm,\n  Render: KVRender\n}\n\n\n","\nimport { types } from 'fieldify'\n\nimport React from 'react';\n\nimport {\n  InputNumber,\n  Form,\n  Space,\n  Tag,\n  Input,\n  Col,\n  Row\n} from \"antd\";\n\nimport { LinkOutlined as Icon } from '@ant-design/icons';\n\nimport TypeForm from '../lib/TypeForm';\nimport TypeRender from '../lib/TypeRender';\nimport TypeInfo from '../lib/TypeInfo';\nimport TypeBuilder from '../lib/TypeBuilder';\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field in a form\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass HashForm extends TypeForm {\n  render() {\n    return (super.render(\n      <Input \n      value={this.state.value} \n      placeholder={this.state.options.placeholder} \n      onChange={({ target }) => this.changeValue(target.value)} \n      style={{width: \"100%\"}}\n      />\n    ));\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Rendering of the field\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass HashRender extends TypeRender {\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Information of the field show fancy information of the type\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass HashInfo extends TypeInfo {\n  render() {\n    return (\n      <span>\n        <Tag color=\"#badb64\" style={{ color: \"#555555\" }}><Icon /></Tag>\n      </span>\n    )\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *\n * Field builder\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nclass HashBuilder extends TypeBuilder {\n  constructor(props) {\n    super(props)\n\n    this.configure()\n  }\n}\n\n/* <div class=\"ant-form-item-control-input\">\n  <div class=\"ant-form-item-control-input-content\">\n    <input type=\"text\" class=\"ant-input\" value=\"vdvfsdvfdsvfds\" style=\"width: 100%;\">\n      </div><span class=\"ant-form-item-children-icon\">\n        <span role=\"img\" aria-label=\"check-circle\" class=\"anticon anticon-check-circle\">\n          <svg viewBox=\"64 64 896 896\" focusable=\"false\" class=\"\" data-icon=\"check-circle\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\">\n            <path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z\">\n              </path>\n              </svg>\n              </span>\n              </span>\n              </div> */\n\n\n\nexport default {\n  code: types.Hash.code,\n  description: types.Hash.description,\n  class: types.Hash.class,\n\n  Info: HashInfo,\n  Builder: HashBuilder,\n  Form: HashForm,\n  Render: HashRender,\n}\n\n\n","import Name from \"./Types/Name\"\nimport Email from \"./Types/Email\"\nimport String from \"./Types/String\"\nimport Number from \"./Types/Number\"\nimport Checkbox from \"./Types/Checkbox\"\nimport DateTimePicker from \"./Types/DateTimePicker\"\nimport DatePicker from \"./Types/DatePicker\"\nimport DatePickerRange from \"./Types/DatePickerRange\"\n\nimport TimePicker from \"./Types/TimePicker\"\nimport TimePickerRange from \"./Types/TimePickerRange\"\n\nimport Select from \"./Types/Select\"\nimport Radio from \"./Types/Radio\"\nimport Object from \"./Types/Object\"\nimport Array from \"./Types/Array\"\nimport FieldName from \"./Types/FieldName\"\nimport KV from \"./Types/KV\"\nimport Hash from \"./Types/Hash\"\n\nexport default {\n  Name,\n  Email,\n  String,\n  Number,\n  Select,\n  Radio,\n  Checkbox,\n  DateTimePicker,\n  DatePicker,\n  DatePickerRange,\n  TimePicker,\n  TimePickerRange,\n  Hash,\n  Object,\n  Array,\n  FieldName,\n  KV\n}\n","import { schema } from \"fieldify\";\nimport Types from \"../Types\"\n\nexport class FieldifySchema extends schema {\n  constructor(name, options) {\n    super(name, options);\n  }\n\n  resolver(type) {\n    return (Types[type])\n  }\n\n  // compile(schema) {\n  //   // process normal compilation\n  //   super.compile(schema);\n  // }\n}\n","import { utils, input as FieldifyInput } from \"fieldify\";\nimport React from 'react';\nimport RecycledComponent from 'react-recycling';\n\nimport { Form, Table, Button, Input, Card } from \"antd\";\nimport {\n  PlusOutlined as PlusIcon,\n  DeleteOutlined as DeleteIcon\n} from '@ant-design/icons';\n\nimport { FieldifySchema } from \"../Schema/Schema\";\n\n\nexport class TypeDataset extends RecycledComponent {\n  constructor(props) {\n    super(props)\n\n    this.formRef = React.createRef()\n\n  }\n\n  cycle(props, first) {\n\n    const state = {\n      layout: props.layout ? props.layout : \"horizontal\"\n    }\n\n    // compile the schema\n    state.rawSchema = props.schema\n    state.schema = new FieldifySchema(\"form\")\n    state.schema.compile(state.rawSchema)\n\n    // create an input instance\n    // console.log(\"rawInput\", state.rawInput === props.rawInput)\n    state.rawInput = props.input\n    state.input = new FieldifyInput(state.schema)\n    state.input.setValue(props.input)\n\n    state.inputValue = state.input.getValue()\n    state.verify = props.verify || false\n\n    state.actions = props.actions;\n    state.generator = props.generator;\n\n    this.references = {};\n\n    this.onChange = props.onChange ? props.onChange : () => { };\n\n    // state.reactive = this.update(state.schema, state.inputValue, state.verify);\n    state.reactive = this.update({\n      state,\n      root: state.schema,\n      input: state.inputValue,\n      verify: state.verify\n    })\n    return (state)\n  }\n\n  getValue() {\n    return (this.state.input.getValue())\n  }\n\n  clickAddArray(line) {\n    this.state.input.set(line)\n    const _value = this.state.input.getValue();\n    this.onChange(this.state.input, _value)\n    this.setState({\n      inputValue: _value,\n      // reactive: this.update(this.state.schema, _value, false)\n      reactive: this.update({\n        state: this.state,\n        root: this.state.schema,\n        input: _value,\n        verify: false,\n      })\n    })\n  }\n\n  clickRemoveArrayItem(line) {\n    this.state.input.remove(line)\n    const _value = this.state.input.getValue();\n    this.onChange(this.state.input, _value)\n    this.setState({\n      inputValue: _value,\n      // reactive: this.update(this.state.schema, _value, false)\n\n      reactive: this.update({\n        state: this.state,\n        root: this.state.schema,\n        input: _value,\n        verify: false,\n      })\n\n    })\n  }\n\n\n  setValue(line, value) {\n    if (!this.state.input) return;\n\n    this.state.input.set(line, value)\n    const _value = this.state.input.getValue();\n    this.onChange(this.state.input, _value)\n    this.setState({\n      inputValue: _value\n    })\n  }\n\n  update(up) {\n\n    var { root, input, verify, state } = up;\n\n    const follower = (schema, schematized, input, ret, line) => {\n      line = line || \"\"\n\n      if (!input) input = {}\n\n      utils.orderedRead(schema, (index, item) => {\n\n        const source = { ...Array.isArray(item) ? item[0] : item };\n        const schematizedSrc = schematized[source.$_key];\n        const sourceSchematized = { ...Array.isArray(schematizedSrc) ? schematizedSrc[0] : schematizedSrc };\n\n        const inputPtr = input ? input[source.$_key] : null;\n        const lineKey = line + \".\" + source.$_key;\n\n        if (source.$_array === true) {\n          const columns = [\n            {\n              dataIndex: 'form',\n              key: 'form',\n              width: \"100%\"\n            }\n          ];\n\n          if (state.actions === true) {\n            columns.push({\n              dataIndex: 'actions',\n              key: 'actions',\n              align: \"right\"\n            })\n          }\n\n          const dataSource = []\n\n          var inputPtr2 = inputPtr;\n          const options = source.$array || {};\n          const min = options.min ? options.min : (source.$required === true ? 1 : 0)\n\n          if (source.$_nested === true) {\n            var inputPtr2 = input[source.$_key]\n\n            if (!Array.isArray(inputPtr)) inputPtr2 = input[source.$_key] = [];\n\n            // force to create min form\n            if (min - inputPtr2.length > 0) {\n              for (var a = 0; a <= min - inputPtr2.length; a++) {\n                inputPtr2.push({})\n              }\n            }\n\n            for (var a = 0; a < inputPtr2.length; a++) {\n              const value = inputPtr2[a];\n              const key = lineKey + \".\" + a\n\n              const child = [];\n              follower(source, sourceSchematized, value, child, key);\n\n              const toPush = { key, form: child }\n              if (state.actions === true) {\n                toPush.actions = <Button size=\"small\" onClick={() => this.clickRemoveArrayItem(key)}>\n                  <span><DeleteIcon /></span>\n                </Button>\n              }\n              dataSource.push(toPush)\n            }\n          }\n          else if (source.$type) {\n            delete sourceSchematized.$doc; // source is cloned\n            const TypeForm = source.$type[state.generator];\n\n            // console.log(\"Array non nested\", min, inputPtr2)\n\n            if (verify === true) {\n              // console.log()\n            }\n\n            if (!Array.isArray(inputPtr)) {\n              input[source.$_key] = [];\n              inputPtr2 = input[source.$_key];\n            }\n\n            if (!inputPtr2) return (ret);\n\n            if (min - inputPtr2.length > 0) {\n              for (var a = 0; a <= min - inputPtr2.length; a++) {\n                inputPtr2.push(null)\n              }\n            }\n\n            for (var a = 0; a < inputPtr2.length; a++) {\n              const value = inputPtr2[a];\n              const key = lineKey + \".\" + a\n\n              const toPush = {\n                key,\n                form: <TypeForm\n                  schema={sourceSchematized}\n                  value={value}\n                  verify={verify}\n                  user={this.props.user}\n                  onChange={(schema, value) => this.setValue(key, value)}\n                  isInjected={true}\n\n                  // reference errors\n                  onError={(error, message) => {\n                    if (error === true) {\n                      this.references[key] = message;\n                    }\n                    else {\n                      const ref = this.references[key];\n                      if (ref) {\n                        delete this.references[key];\n                      }\n                    }\n                  }}\n                />\n              }\n              if (state.actions === true) {\n                toPush.actions = <Button size=\"small\" onClick={() => this.clickRemoveArrayItem(key)}>\n                  <span><DeleteIcon /></span>\n                </Button>\n              }\n              dataSource.push(toPush)\n            }\n          }\n\n          ret.push(<Form.Item key={source.$_wire} noStyle={true}>\n            <div className=\"ant-form-item\">\n              <Card size=\"small\" title={source.$_access.$doc} extra={<div className=\"ant-radio-group ant-radio-group-outline ant-radio-group-small\">\n                {inputPtr2 && state.actions === true ?\n                  <span className=\"ant-radio-button-wrapper\" onClick={() => this.clickAddArray(lineKey + \".\" + inputPtr2.length)}>\n                    <span><PlusIcon /></span>\n                  </span>\n                  : null}\n              </div>}>\n                <Table\n                  size=\"small\"\n                  dataSource={dataSource}\n                  columns={columns}\n                  verticalAlign='middle'\n                  showHeader={false}\n                  pagination={{\n                    total: dataSource.length,\n                    pageSize: dataSource.length,\n                    hideOnSinglePage: true\n                  }}\n                  bordered\n                />\n              </Card>\n            </div>\n          </Form.Item>);\n\n        }\n        else {\n          if (source.$_nested === true) {\n            const child = [];\n\n            follower(source, sourceSchematized, inputPtr, child, lineKey);\n\n            ret.push(<div key={source.$_wire} className=\"ant-form-item\">\n              <Card size=\"small\" title={source.$doc}>\n                {child}\n              </Card>\n            </div>);\n          }\n          else if (item.$type) {\n            const TypeForm = item.$type[state.generator];\n\n            ret.push(<TypeForm\n              schema={sourceSchematized}\n              value={inputPtr}\n              key={source.$_wire}\n              verify={verify}\n              user={this.props.user}\n              onChange={(schema, value) => this.setValue(lineKey, value)}\n\n              // reference errors\n              onError={(error, message) => {\n                if (error === true) {\n                  this.references[source.$_wire] = message;\n                }\n                else {\n                  const ref = this.references[source.$_wire];\n                  if (ref) {\n                    delete this.references[source.$_wire];\n                  }\n                }\n              }}\n            />);\n          }\n        }\n      });\n      return (ret);\n    };\n\n    const ret = [];\n    follower(\n      root.handler.schema,\n      root.handlerSchematized.schema,\n      input,\n      ret\n    );\n    return (ret);\n  }\n\n  render() {\n    var layout = {};\n\n    if (this.state.layout === 'horizontal') {\n      layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n      }\n    }\n    return (<Form\n      layout={this.state.layout}\n      key={this.formRef}\n      {...layout}\n      name=\"basic\" >\n      {this.state.reactive}\n    </Form>);\n  }\n}\n","import { utils, input as FieldifyInput } from \"fieldify\";\nimport React from 'react';\nimport RecycledComponent from 'react-recycling';\n\nimport { Form, Table, Button, Input, Card } from \"antd\";\nimport {\n  PlusOutlined as PlusIcon,\n  DeleteOutlined as DeleteIcon\n} from '@ant-design/icons';\n\nimport { FieldifySchema } from \"../Schema/Schema\";\nimport { TypeDataset } from \"../lib/TypeDataset\";\n\nexport class FieldifySchemaForm extends RecycledComponent {\n  cycle(props) {\n    const state = {\n      layout: props.layout,\n      schema: props.schema,\n      input: props.input,\n      onChange: props.onChange,\n    }\n\n    return(state)\n  }\n\n  render() {\n    return (<TypeDataset\n      schema={this.state.schema}\n      input={this.state.input}\n      onChange={this.state.onChange}\n      actions={true}\n      layout={this.state.layout}\n      generator=\"Form\"\n    />);\n  }\n}\n","import { utils, input as FieldifyInput } from \"fieldify\";\n\nimport React from 'react';\nimport Types from '../Types';\nimport { Modal, Form, Input, Select, Checkbox, Tag } from \"antd\";\nimport { FieldifySchema } from \"../Schema/Schema\";\nimport { FieldifySchemaForm } from './Form'\nimport { ConsoleSqlOutlined } from \"@ant-design/icons\";\n\n// build all available types\nconst allTypes = {}\nconst allTypesNoArray = {}\nfor (var a in Types) {\n  allTypes[a] = Types[a].description\n  if (a !== \"Array\") {\n    allTypesNoArray[a] = Types[a].description\n  }\n}\n\n// set the very basic schema for the modal\nconst baseSchema = {\n  key: {\n    $doc: \"Name of the field\",\n    $type: Types.FieldName,\n    $required: true,\n    $position: 10\n  },\n  type: {\n    $doc: \"Field type\",\n    $type: \"Select\",\n    $required: true,\n    $options: {\n      items: allTypes\n    },\n    $position: 11\n  },\n  doc: {\n    $doc: \"Description\",\n    $required: false,\n    $type: \"String\",\n    $position: 22\n  },\n  position: {\n    $doc: \"Position in the serie\",\n    $required: false,\n    $type: \"Number\",\n    $default: 0,\n    $options: {\n      acceptedTypes: \"integer\"\n    },\n    $position: 23\n  },\n  // options: {\n  //   $doc: \"Options\",\n  //   $type: Types.Checkbox,\n  //   $options: {\n  //     required: \"Field is required\",\n  //     readOnly: \"Field is read only\",\n  //   }\n  // },\n}\n\nexport class FieldifySchemaBuilderModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.formRef = React.createRef()\n    this.state = this.cycle(props, true)\n    this.currentSchema = baseSchema\n  }\n\n  componentDidUpdate(props) {\n    var changed = false\n    var state = { ...this.state }\n\n    if (this.props.visible !== props.visible) {\n      this.currentSchema = baseSchema\n      state = this.cycle(this.props)\n      changed = true;\n    }\n\n    if (changed === true) this.setState(state)\n  }\n\n  cycle(props, first) {\n\n    // here we have 3 cases\n    // normal case = $_array !== true && $_nested !== true\n    // nested in array = $_array === true && $_nested === true\n    // normal in array = $_array === true && $_nested !== true\n    // single nested = $_array !== true && $_nested === true\n\n    const state = {\n      edition: false,\n      original: props.value,\n      form: {\n        state: \"Filling\",\n        color: \"blue\"\n      },\n      value: {},\n      visible: props.visible,\n      user: props.user,\n      verify: false\n    };\n   \n    if (state.user && state.user.$_wire) {\n      state.initialPath = state.user.$_wire;\n    }\n    else state.initialPath = '';\n\n    if (props.value) {\n      const val = props.value;\n\n      state.edition = true;\n\n      // normal case\n      if (val.$_array !== true && val.$_nested !== true) {\n        state.value = {\n          key: val.$_key,\n          type: val.$type.code,\n          doc: val.$doc,\n          required: val.$required,\n          read: val.$read,\n          write: val.$write,\n          options: val.$options,\n          position: val.$position,\n        }\n      }\n      // nested in array\n      else if (val.$_array === true && val.$_nested === true) {\n        state.value = {\n          key: val.$_key,\n          type: \"Array\",\n          content: \"Object\",\n          doc: val.$doc,\n          required: val.$required,\n          read: val.$read,\n          write: val.$write,\n          options: val.$options,\n          position: val.$position,\n        }\n      }\n      // normal in array\n      else if (val.$_array === true && val.$_nested !== true) {\n        state.value = {\n          key: val.$_key,\n          type: \"Array\",\n          content: typeof val.$type === \"string\" ? val.$type : val.$type.code,\n          doc: val.$doc,\n          required: val.$required,\n          read: val.$read,\n          write: val.$write,\n          options: val.$options,\n          position: val.$position,\n        }\n      }\n      // special handle for objects\n      else if (val.$_array !== true && val.$_nested === true) {\n        state.value = {\n          key: val.$_key,\n          type: \"Object\",\n          doc: val.$doc,\n          required: val.$required,\n          read: val.$read,\n          write: val.$write,\n          options: val.$options,\n          position: val.$position,\n        }\n      }\n    }\n    // single addition\n    else {\n      // nothing to set\n      state.value = {}\n    }\n\n    this.driveSchema(state)\n    state.input.setValue(state.value)\n    return (state)\n  }\n\n  driveSchema(state, force) {\n    const value = state.value;\n\n    const Type = Types[value.type]\n    if (Type && Type !== this.currentType) {\n      // create a fake tmp type\n      const TypeObject = new Type.class\n\n      const configuration = TypeObject.configuration()\n\n      this.currentSchema = { ...baseSchema }\n\n      // special cases for array \n      if (value.type === \"Array\") {\n        this.currentSchema.content = {\n          $doc: \"Item content type\",\n          $type: \"Select\",\n          $required: true,\n          $options: {\n            default: value.content || \"Object\",\n            items: allTypesNoArray\n          },\n          $position: 12\n        }\n      }\n\n      if (configuration) this.currentSchema.options = {\n        ...configuration,\n        $doc: \"Type configuration\"\n      };\n\n      // const upSchema = Type.\n      state.currentType = Type;\n\n      state.schema = new FieldifySchema(\"modal\");\n      state.schema.compile(this.currentSchema);\n      state.input = new FieldifyInput(state.schema)\n\n    }\n    else {\n      state.schema = new FieldifySchema(\"modal\");\n      state.schema.compile(this.currentSchema);\n      state.input = new FieldifyInput(state.schema)\n    }\n  }\n\n\n  formChanged(value) {\n\n    const state = {\n      schema: this.state.schema,\n      input: this.state.input,\n      value: { ...this.state.value, ...value }\n    }\n\n    this.driveSchema(state)\n    state.input.setValue(state.value)\n    this.setState(state)\n\n    state.input.verify((result) => {\n      const state = { form: {} }\n      state.verify = true;\n\n      state.error = result.error\n\n      if (result.error === true) {\n        state.form.color = \"blue\"\n        state.form.state = \"Filling\"\n      }\n      else {\n        state.form.color = \"green\"\n        state.form.state = \"Passed\"\n      }\n\n      this.setState(state)\n    })\n\n  }\n\n  handleOK() {\n    this.state.input.verify((result) => {\n      const state = { form: {} }\n      state.verify = true;\n\n      state.error = result.error\n\n      if (result.error === true) {\n        state.form.color = \"red\"\n        state.form.state = \"Error\"\n      }\n      else {\n        state.form.color = \"green\"\n        state.form.state = \"Passed\"\n\n        this.setState(state)\n\n        // get the current input values \n        const value = result.result\n        // const value = this.state.input.getValue()\n        var nvalue = {}\n\n        // rename all root value with $\n        for (var key in value) nvalue['$' + key] = value[key]\n\n        // we will save the last path in order to reconstruct the field name\n        const source = this.state.initialPath.split('.')\n        source.pop()\n        source.push(value.key)\n        const npath = source.join('.')\n        delete nvalue.$key;\n\n        // because object and array are virtualized in the builder \n        // then we need to remap the item with the correct schema underlining\n\n        if (nvalue.$type === \"Array\" && nvalue.$content === \"Object\") {\n\n          if (this.state.edition === true) {\n            // recopy nestedObjects if exists\n            // avoid root copy\n            if (this.props.user.$_wire) {\n              const no = utils.getNO(this.props.user)\n              for (var a in no.nestedObject) {\n                const p = no.nestedObject[a]\n                nvalue[p[0]] = p[1]\n              }\n            }\n          }\n          else if(!nvalue.$doc) nvalue.$doc = \"\"\n\n          delete nvalue.$type;\n          delete nvalue.$content;\n          nvalue = [nvalue]\n        }\n        // normal in array\n        else if (nvalue.$type === \"Array\" && nvalue.$content !== \"Object\") {\n          nvalue.$type = nvalue.$content;\n          delete nvalue.$content;\n          nvalue = [nvalue]\n        }\n        // special handle for objects\n        else if (nvalue.$type === \"Object\") {\n\n          if (this.state.edition === true) {\n            // recopy nestedObjects if exists\n            // avoid root copy\n            if (this.props.user.$_wire) {\n              const no = utils.getNO(this.props.user)\n              for (var a in no.nestedObject) {\n                const p = no.nestedObject[a]\n                nvalue[p[0]] = p[1]\n              }\n            }\n          }\n          else if(!nvalue.$doc) nvalue.$doc = \"\"\n\n          delete nvalue.$type;\n        }\n\n        if (this.state.edition === true) {\n          this.props.onOk(({\n            edition: true,\n            oldPath: this.state.initialPath,\n            newPath: npath,\n            key: value.key,\n            value: nvalue\n          }))\n        }\n        else {\n          this.props.onOk(({\n            edition: false,\n            newPath: this.state.initialPath + \".\" + value.key,\n            key: value.key,\n            value: nvalue\n          }))\n        }\n      }\n    })\n\n  }\n\n  render() {\n    const onOk = () => {\n      // this.onOk(this.state);\n    };\n    const onCancel = () => {\n      // this.setState({ visible: false });\n      this.props.onCancel(this.state);\n    };\n    const layout = {\n      labelCol: { span: 8 },\n      wrapperCol: { span: 16 },\n    };\n\n    return (<Modal\n      title={<span>Add New Field To Your Schema <Tag color={this.state.form.color}>{this.state.form.state}</Tag></span>}\n      centered\n      visible={this.state.visible}\n      width={600}\n      onOk={this.handleOK.bind(this)}\n      onCancel={onCancel}\n    >\n      <FieldifySchemaForm\n        ref={this.formRef}\n        schema={this.currentSchema}\n        input={this.state.value}\n        user={this.props.user}\n        verify={this.state.verify}\n        onChange={this.formChanged.bind(this)}\n      />\n\n    </Modal>);\n  }\n}\n","import React from 'react';\n\nimport RecycledComponent from 'react-recycling';\n\nimport {\n  schema,\n  iterator,\n  assign,\n  fusion,\n  utils\n} from \"fieldify\"\n\nimport {\n  notification,\n  Table,\n  Tag,\n  Popconfirm,\n  Tooltip\n} from 'antd';\n\nimport {\n  EditOutlined as EditIcon,\n  DeleteOutlined as DeleteIcon,\n  UnorderedListOutlined as ObjectIcon,\n  PlusOutlined as PlusIcon,\n  CopyOutlined as ArrayIcon\n} from '@ant-design/icons';\n\nimport { FieldifySchema } from \"./Schema\";\n\nimport { FieldifySchemaBuilderModal } from './BuilderModal';\n\nimport String from \"../Types/String\";\n\nexport class FieldifySchemaBuilder extends RecycledComponent {\n\n  cycle(props, first) {\n    const state = {\n      modal: false,\n      modalUser: null,\n      schemaDataSource: []\n    };\n\n    this.onChange = () => { }\n    if (props.onChange) this.onChange = props.onChange\n\n    // compile the schema\n    state.schema = new FieldifySchema(\"form\")\n    state.schema.compile(props.schema)\n\n    state.schemaDataSource = this.updateDataSource(state.schema)\n\n    this.columns = [\n      {\n        title: 'Key',\n        dataIndex: 'name',\n        key: 'key',\n      },\n      {\n        title: 'Description',\n        dataIndex: 'doc',\n        key: 'doc'\n      },\n      {\n        title: <div className=\"ant-radio-group ant-radio-group-outline ant-radio-group-small\">\n          <span className=\"ant-radio-button-wrapper\" onClick={() => this.handlingAdd()}>\n            <span>Add <PlusIcon /></span>\n          </span>\n        </div>,\n        dataIndex: 'actions',\n        key: 'actions',\n        align: \"right\"\n      },\n    ];\n\n    return (state)\n  }\n\n  fireOnChange() {\n    const ex = this.state.schema.export()\n    // this.state.schema.compile(ex)\n\n    // fire on change for exporting the new schema\n    this.onChange(ex)\n  }\n\n  itemChanged(arg) {\n\n    if (arg.edition === true) {\n      const lineup = this.state.schema.getLineup(arg.oldPath);\n\n      // delete org\n      this.state.schema.removeLineup(arg.oldPath)\n\n      // put new\n      this.state.schema.setLineup(arg.newPath, arg.value)\n\n      notification.success({\n        message: \"Field updated\",\n        description: `Field at ${arg.oldPath} has been successfully updated`\n      })\n    }\n\n    // manage addition\n    else {\n      // just put the new one\n      this.state.schema.setLineup(arg.newPath, arg.value)\n\n      notification.success({\n        message: \"Field added\",\n        description: `Field at ${arg.newPath} has been successfully added`\n      })\n    }\n\n    this.fireOnChange();\n\n    this.setState({\n      modal: false,\n      modalContent: null,\n      modalUser: null,\n      schemaDataSource: this.updateDataSource(this.state.schema)\n    });\n  }\n\n  itemRemove(item) {\n    this.state.schema.removeLineup(item.$_wire);\n\n    this.fireOnChange();\n\n    this.setState({\n      schemaDataSource: this.updateDataSource(this.state.schema)\n    });\n\n    notification.success({\n      message: \"Field removed\",\n      description: `Field at ${item.$_wire} has been successfully removed`\n    })\n  }\n\n  handlingAdd(path) {\n    path = path || \".\";\n\n    const lineup = this.state.schema.getLineup(path) || this.state.schema.handler.schema;\n\n    const state = {\n      modal: true,\n      modalContent: null,\n      modalUser: lineup\n    }\n\n    this.setState(state);\n  }\n\n  handlingEdit(item) {\n    const path = item.$_wire || \".\";\n\n    const lineup = this.state.schema.getLineup(path) || this.state.schema.handler.schema;\n\n    const state = {\n      modal: true,\n      modalContent: item,\n      modalUser: lineup\n    }\n\n    this.setState(state);\n  }\n\n  updateDataSource(root) {\n    const self = this;\n    function fieldify2antDataTable(schema, wire) {\n      if (!wire)\n        wire = \"\";\n      const current = [];\n      utils.orderedRead(schema, (index, item) => {\n        var path = wire + \".\" + item.$_key;\n        item.$_path = path;\n\n        // Is array\n        if (Array.isArray(item)) {\n          path = wire + \".\" + item[0].$_key;\n          item[0].$_path = path;\n          item[0].$_array = true;\n\n          var composite = <Tooltip title=\"... of objects\">\n            <Tag color=\"#722ed1\"><ObjectIcon /></Tag>\n          </Tooltip>;\n          // for direct type assignation\n          if (\"$type\" in item[0]) {\n            const TypeInfo = item[0].$type.Info;\n            composite = <TypeInfo />;\n          }\n          else {\n            item[0].$_nested = true;\n          }\n\n          current.push({\n            ptr: item[0],\n            key: path,\n            name: <div>\n              <Tooltip title=\"This field is an array ...\">\n                <Tag color=\"#eb2f96\"><ArrayIcon /></Tag>\n              </Tooltip>\n              {composite}\n              <strong>{item[0].$_key}</strong>\n            </div>,\n            doc: item[0].$doc,\n            children: !(\"$type\" in item[0]) ? fieldify2antDataTable(item[0], path) : null,\n            actions: <div className=\"ant-radio-group ant-radio-group-outline ant-radio-group-small\">\n              <Popconfirm title={<span>Are you sure to delete the Array <strong>{path}</strong></span>} onConfirm={() => self.itemRemove(item[0])} okText=\"Yes\" cancelText=\"No\">\n                <span className=\"ant-radio-button-wrapper\">\n                  <span><DeleteIcon /></span>\n                </span>\n              </Popconfirm>\n\n\n              <span className=\"ant-radio-button-wrapper\" onClick={() => self.handlingEdit(item[0])}>\n                <span><EditIcon /></span>\n              </span>\n\n              {!(\"$type\" in item[0]) ?\n                <span className=\"ant-radio-button-wrapper\" onClick={() => self.handlingAdd(path)}>\n                  <span><PlusIcon /></span>\n                </span>\n                : null}\n            </div>\n          });\n        }\n        // is object\n        else if (typeof item === \"object\" && !item.$type) {\n          item.$_nested = true;\n          current.push({\n            ptr: item,\n            key: path,\n            name: <div>\n              <Tooltip title=\"This field is an object\">\n                <Tag color=\"#722ed1\"><ObjectIcon /></Tag>\n              </Tooltip>\n              <strong>{item.$_key}</strong>\n            </div>,\n            doc: item.$doc,\n            children: fieldify2antDataTable(item, path),\n            actions: <div className=\"ant-radio-group ant-radio-group-outline ant-radio-group-small\">\n              <Popconfirm title={<span>Are you sure to delete Object <strong>{path}</strong></span>} onConfirm={() => self.itemRemove(item)} okText=\"Yes\" cancelText=\"No\">\n                <span className=\"ant-radio-button-wrapper\">\n                  <span><DeleteIcon /></span>\n                </span>\n              </Popconfirm>\n\n              <span className=\"ant-radio-button-wrapper\" onClick={() => self.handlingEdit(item)}>\n                <span><EditIcon /></span>\n              </span>\n\n              <span className=\"ant-radio-button-wrapper\" onClick={() => self.handlingAdd(path)}>\n                <span><PlusIcon /></span>\n              </span>\n            </div>\n          });\n        }\n        else {\n          const TypeInfo = item.$type.Info;\n          current.push({\n            ptr: item,\n            key: path,\n            name: <div>\n              <TypeInfo /> {item.$_key}\n            </div>,\n            doc: item.$doc,\n            actions: <div className=\"ant-radio-group ant-radio-group-outline ant-radio-group-small\">\n              <Popconfirm title={<span>Are you sure to delete <strong>{path}</strong></span>} onConfirm={() => self.itemRemove(item)}\n                // onCancel={cancel}\n                okText=\"Yes\" cancelText=\"No\">\n                <span className=\"ant-radio-button-wrapper\">\n                  <span><DeleteIcon /></span>\n                </span>\n              </Popconfirm>\n\n              <span className=\"ant-radio-button-wrapper\" onClick={() => self.handlingEdit(item)}>\n                <span><EditIcon /></span>\n              </span>\n            </div>\n          });\n        }\n      });\n      return (current);\n    }\n\n    var data = null;\n    if (root) {\n      data = fieldify2antDataTable(root.handler.schema);\n      return (data)\n    }\n\n    return ([])\n  }\n\n  render() {\n    const sds = this.state.schemaDataSource;\n\n    return (<div>\n      <FieldifySchemaBuilderModal\n        user={this.state.modalUser}\n        visible={this.state.modal}\n        value={this.state.modalContent}\n        onCancel={() => this.setState({ modal: false })}\n        onOk={this.itemChanged.bind(this)}\n      />\n\n      <Table columns={this.columns} dataSource={sds} size=\"small\" pagination={{\n        total: sds.length,\n        pageSize: sds.length,\n        hideOnSinglePage: true\n      }} expandable={{ defaultExpandAllRows: true }} />\n    </div>);\n  }\n}","import { utils, input as FieldifyInput } from \"fieldify\";\nimport React from 'react';\nimport RecycledComponent from 'react-recycling';\n\nimport { Form, Table, Button, Input, Card } from \"antd\";\nimport {\n  PlusOutlined as PlusIcon,\n  DeleteOutlined as DeleteIcon\n} from '@ant-design/icons';\n\nimport { FieldifySchema } from \"../Schema/Schema\";\nimport { TypeDataset } from \"../lib/TypeDataset\";\n\nexport class FieldifySchemaRender extends RecycledComponent {\n  cycle(props) {\n    const state = {\n      layout: props.layout,\n      schema: props.schema,\n      input: props.input,\n    }\n\n    return(state)\n  }\n\n  render() {\n    return (<TypeDataset\n      schema={this.state.schema}\n      input={this.state.input}\n      actions={false}\n      layout={this.state.layout}\n      generator=\"Render\"\n    />);\n  }\n}\n","import { input } from \"fieldify\"\n\nimport React from 'react'\nimport styles from './styles.module.css'\n\nimport * as schema from './Schema'\nimport types from './Types'\n\n// just map the input class from fieldify\nexport class Input extends input {}\n\n// export the schema\nexport const Schema = schema;\n\n// export types\nexport const Types = types;\n\n// get current version\nimport pack from '../package.json'\nexport const Version = pack.version;\n\nimport \"antd/dist/antd.css\";\n\n","const leafRegex = /^\\$/\nconst leafPrivateRegex = /^\\$_/\n\nconst internal = {\n  $required: true,\n  $maxArray: 100\n}\n\nmodule.exports = {\n  leaf: leafRegex,\n  leafPrivate: leafPrivateRegex,\n\n  /**\n   * Determine if there is a defined field in the current object stage\n   * @param  {Object}  schema Current stage\n   * @return {Boolean}      true there is reference, false it's free\n   */\n  isThereSubObject: (schema) => {\n    for (var key in schema) {\n      if (internal.hasOwnProperty(key)) continue\n      if (!leafRegex.test(key)) {\n        return (true)\n      }\n    }\n    return (false)\n  },\n\n  /**\n   * Determine if there an object parameter\n   * @param  {Object}  schema Current stage\n   * @return {Boolean}      true there is reference, false it's free\n   */\n  isThereObjectParams: (schema) => {\n    for (var key in schema) {\n      if (internal.hasOwnProperty(key)) continue\n      if (leafRegex.test(key)) {\n        return (true)\n      }\n    }\n    return (false)\n  },\n\n  /**\n   * Async object follower\n   * @param  {[type]} objs       Object to follow\n   * @param  {Function} executor Per item execution\n   */\n  eachObject: (objs, executor) => {\n    var aObjects = []\n\n    // transpose objets to array\n    for (var a in objs) { aObjects.push([a, objs[a]]) }\n\n    function next () {\n      var o = aObjects.shift()\n      if (o === undefined) {\n        executor(null, null, next, true)\n        return\n      }\n      executor(o[0], o[1], () => {\n        process.nextTick(next)\n      }, false)\n    }\n\n    process.nextTick(next)\n  },\n\n  /**\n   * Async array follower\n   * @param  {[type]} list     List of object\n   * @param  {[type]} executor Per item execution\n   */\n  eachItem: (list, executor) => {\n    var index = 0\n    if (!Array.isArray(list)) { return (executor(null, null, null, true)) }\n    function next () {\n      var o = list[index]\n      if (o === undefined) {\n        executor(null, null, null, true)\n        return\n      }\n      executor(index, o, () => {\n        index++\n        process.nextTick(next)\n      }, false)\n    }\n    process.nextTick(next)\n  },\n\n  /**\n   * Read async a list of callback\n   * @param  {Array}    list   Array of callback\n   * @param  {Function} finish Triggered when list is completed\n   */\n  sync: (list, finish) => {\n    function next (index) {\n      var exec = list[index]\n      if (!exec) {\n        if (finish) finish()\n        return\n      }\n      exec(() => {\n        index++\n        process.nextTick(next, index)\n      })\n    }\n    process.nextTick(next, 0)\n  },\n\n  getNO: (schema) => {\n    const nestedObject = []\n    const nestedOptions = []\n\n    for (var key in schema) {\n      const ptr = schema[key]\n      const fc = key.substr(0, 1)\n      if (fc === '$') nestedOptions.push([key, ptr])\n      else nestedObject.push([key, ptr])\n    }\n\n    return ({ nestedObject, nestedOptions })\n  },\n\n  orderedRead: (schema, cb, wire) => {\n    wire = wire || ''\n\n    const dup = { ...schema }\n\n    // remap keys\n    for (var key in dup) {\n      if (leafRegex.test(key)) {\n        delete dup[key]\n        continue\n      }\n    }\n\n    // ordering the line\n    const ordered = Object.values(dup).sort((a, b) => {\n      if (Array.isArray(a)) a = a[0]\n      if (Array.isArray(b)) b = b[0]\n\n      return (a.$position - b.$position)\n    })\n\n    // this pass is use to reduce displacement on positions\n    for (var index = 0; index < ordered.length; index++) {\n      var ptr = ordered[index]\n      if (Array.isArray(ptr)) ptr = ptr[0]\n      ptr.$position = index\n    }\n\n    // follow and update the line\n    for (var index = 0; index < ordered.length; index++) {\n      const item = ordered[index]\n      cb(index, item)\n    }\n  }\n}\n","function _specialClone (dst, src) {\n  for (let a in src) {\n    const p = src[a]\n    if (Array.isArray(p)) {\n      if (!Array.isArray(dst[a])) dst[a] = [{}]\n      _specialClone(dst[a][0], p[0])\n    }\n    else if (p && typeof p === 'object') {\n      // here we only remap javascript Object\n      // all other object are pointed\n      if (p.constructor.name === 'Object') {\n        if (!dst[a]) dst[a] = {}\n        _specialClone(dst[a], p)\n      }\n      else {\n        dst[a] = src[a]\n      }\n    }\n    else {\n      dst[a] = src[a]\n    }\n  }\n}\n\n/**\n * Fusionning 2 objects schema, returning new one\n * @param  {Object} dst Destination object\n * @param  {Object} src Source object\n * @return {Object}     New object\n */\nfunction fieldifyFusion (dst, src) {\n  const ret = {}\n\n  _specialClone(ret, dst)\n  _specialClone(ret, src)\n\n  return (ret)\n}\n\nmodule.exports = fieldifyFusion\n","const utils = require('./utils')\n\n/**\n  * Generator deep iterator is a complex function to assign a\n  * new struture of a current schema\n  * @param  {Object} schema Source schema to follow\n  * @param  {fieldifyAssignator~callback} leaf Executed on each leaf\n  * @param  {Mixed} user User pointer\n  * @param  {lkey} lkey Internal use\n  */\nfunction fieldifyAssignator (schema, leaf, user, lkey, first) {\n  const { nestedObject } = utils.getNO(schema)\n\n  var ret = {}\n\n  if (first === false) {\n    const lret = leaf(user, ret, schema, lkey)\n    if (lret === false) return (ret)\n  }\n\n  // follow the rest of keys\n  for (let a in nestedObject) {\n    const key = nestedObject[a][0]\n    const value = schema[key]\n\n    const save = lkey\n    lkey = lkey ? lkey + '.' + key : key\n    if (Array.isArray(value)) {\n      ret[key] = [fieldifyAssignator(value[0], leaf, user, lkey, false)]\n\n      // prune branch\n      if (Object.keys(ret[key][0]).length === 0) delete ret[key]\n    }\n    else {\n      ret[key] = fieldifyAssignator(value, leaf, user, lkey, false)\n\n      // prune the branch\n      if (Object.keys(ret[key]).length === 0) delete ret[key]\n    }\n\n    // restore state\n    lkey = save\n  }\n\n  if (first !== false) {\n    for (let key in ret) {\n      const ptr = ret[key]\n\n      if (typeof ptr === 'object' && Object.keys(ptr) === 0) {\n        delete ret[key]\n      }\n    }\n  }\n  return (ret)\n}\n\n/**\n * This callback is displayed as part of the Requester class.\n * @callback fieldifyAssignator~callback\n * @param {number} responseCode\n * @param {string} responseMessage\n */\n\nmodule.exports = fieldifyAssignator\n","const utils = require('./utils')\n\nclass fieldifyIteratorBuffer {\n  constructor (options) {\n    this.options = options\n    this.handler = options.handler\n    this.result = {}\n    this.level = 0\n\n    // correct callbacks\n    options.onAssign = options.onAssign || ((current, next) => {\n      // generic assignation\n      current.result[current.key] = current.input\n      next()\n    })\n    options.onEnter = options.onEnter || ((current) => { })\n    options.onLeave = options.onLeave || ((current) => { })\n    options.onEnd = options.onEnd || ((result) => { })\n  }\n\n  branch (schema, input, end, line) {\n    line = line || '.'\n    const no = utils.getNO(schema)\n    const result = {}\n    this.level++\n\n    // when entering in a branch\n    this.options.onEnter(schema)\n\n    // follow each element of the current branch\n    utils.eachItem(no.nestedObject, (index, ptr, next, oend) => {\n      if (oend === true) {\n        this.level--\n\n        // when leaving in a branch\n        this.options.onLeave(schema)\n\n        // initial level\n        if (this.level === 0) {\n          this.result = result\n          end(this, result)\n        }\n        // level up\n        else {\n          end(this, result)\n        }\n\n        return\n      }\n\n      const key = ptr[0]\n\n      const current = {\n        iterator: this,\n        key: key,\n        object: ptr[1],\n        input: input ? input[ptr[0]] : null,\n        line: line + key,\n        result: result\n      }\n\n      if (Array.isArray(current.object)) {\n        // this is an input error\n        if (!Array.isArray(current.input)) {\n          // here we reset the input as we have\n          // to follow all the schema\n          current.input = null\n\n          // here is a problem. the schema must\n          // be followed at least one time in\n          // order to reveal assignation errors\n          // and notabely required fields.\n          this.branch(\n            current.object[0],\n            null,\n            (useless, subResult) => {\n              next()\n            },\n            key\n          )\n        }\n        else {\n          // ok at this step we can follow the input\n          // as we are sure is it an array.\n          // Array is just a bridge between 2 branch.\n          const arrayResult = []\n          utils.eachItem(current.input, (index, ptr, next2, oend) => {\n            if (oend === true) {\n              // assign to result\n              if (arrayResult.length > 0) result[key] = arrayResult\n\n              // return to normal mode\n              next()\n\n              return\n            }\n\n            // management of array with direct and indirect assignment\n            const arraySchema = current.object[0]\n\n            if (arraySchema.$_nested === true) {\n              // this is an input error\n              if (typeof current.input !== 'object') {\n                // here we reset the input as we have\n                // to follow all the schema\n                ptr = null\n              }\n\n              // console.log(\"ARRAY NEST\", arraySchema, ptr)\n\n              // change branche because of nested branch\n              this.branch(\n                arraySchema,\n                ptr,\n                (useless, subResult) => {\n                  if (Object.keys(subResult).length > 0) arrayResult.push(subResult)\n                  next2()\n                },\n                key\n              )\n            }\n            // here we can get and compare values\n            else {\n              current.input = ptr\n\n              // console.log(\"ARRAY DIRECT\");\n\n              // creation of a shortcut on the access fields\n              current.access = arraySchema.$_access\n              current.result = {}\n\n              // execution of user assignment\n              this.options.onAssign(current, () => {\n                // store as array if there is result\n                const values = Object.values(current.result)\n                if (values.length > 0) {\n                  arrayResult.push(values[0])\n                }\n\n                next2()\n              })\n            }\n          })\n        }\n      }\n      // here the input must be an object\n      else if (current.object.$_nested === true) {\n        // this is an input error\n        if (typeof current.input !== 'object') {\n          // here we reset the input as we have\n          // to follow all the schema\n          current.input = null\n        }\n\n        this.branch(\n          current.object,\n          current.input,\n          (useless, subResult) => {\n            if (Object.keys(subResult).length > 0) result[key] = subResult\n            next()\n          },\n          key\n        )\n      }\n      // here we can get and compare values\n      else {\n        // put a shortcut\n        current.access = current.object.$_access\n\n        // execution of user assignment\n        this.options.onAssign(current, next)\n      }\n    })\n  }\n}\n\nfunction fieldifyIterator (options) {\n  const fib = new fieldifyIteratorBuffer(options)\n\n  fib.branch(options.handler.schema, options.input, () => {\n    // end user execution\n    fib.options.onEnd(fib)\n  })\n}\n\nmodule.exports = fieldifyIterator\n","const utils = require('./utils')\nconst fusion = require('./fusion')\n\nclass fieldifyHandler {\n  constructor (schema) {\n    this.orgSchema = schema\n    this.schema = fusion({}, schema)\n\n    this._access = {}\n    this._accessStack = []\n  }\n\n  branch (schema, line) {\n    line = line || ''\n    const no = utils.getNO(schema)\n\n    // construct options of the current branch\n    const tmpAccess = {}\n    for (var a in no.nestedOptions) {\n      const ptr = no.nestedOptions[a]\n      tmpAccess[ptr[0]] = ptr[1]\n    }\n\n    this._access = fusion(this._access, tmpAccess)\n\n    if (no.nestedObject.length > 0) schema.$_nested = true\n\n    for (var key in no.nestedObject) {\n      const ptrS = no.nestedObject[key]\n      const noIn = utils.getNO(ptrS[1])\n      const subLine = line.length > 0 ? line + '.' + ptrS[0] : ptrS[0]\n      var drive = ptrS[1]\n\n      // current key is an array\n      if (Array.isArray(ptrS[1])) {\n        drive = ptrS[1][0]\n        drive.$_array = true\n      }\n      // the current key is nested\n      else if (noIn.nestedObject.length > 0) {\n        drive.$_nested = true\n      }\n\n      // push on the stack current accesses\n      this._accessStack.push(this._access)\n\n      // remove useless private info\n      delete this._access.$_nested\n      delete this._access.$_array\n\n      // enter in the branch\n      this.branch(drive, subLine)\n\n      // set the current access\n      drive.$_access = this._access\n\n      // restore the state of access\n      this._access = this._accessStack.pop()\n    }\n  }\n}\n\nfunction fieldifyCompiler (schema) {\n  const fib = new fieldifyHandler(schema)\n\n  // process nested object\n  fib.branch(fib.schema)\n\n  //    console.log(JSON.stringify(fib.schema, null, \"\\t\"))\n\n  return (fib)\n}\n\nmodule.exports = fieldifyCompiler\n","const String = require('./String')\nconst Number = require('./Number')\nconst NumberPicker = require('./NumberPicker')\nconst Select = require('./Select')\nconst Radio = require('./Radio')\nconst Name = require('./Name')\nconst Email = require('./Email')\nconst Checkbox = require('./Checkbox')\nconst Hash = require('./Hash')\nconst URL = require('./URL')\nconst DateTimePicker = require('./DateTimePicker')\nconst DatePicker = require('./DatePicker')\nconst DatePickerRange = require('./DatePickerRange')\nconst TimePicker = require('./TimePicker')\nconst TimePickerRange = require('./TimePickerRange')\nconst Slug = require('./Slug')\nconst Color = require('./Color')\nconst FieldName = require('./FieldName')\nconst KV = require('./KV')\n\nmodule.exports = {\n  String,\n  Number,\n  NumberPicker,\n  Select,\n  Radio,\n  Name,\n  Email,\n  Checkbox,\n  Hash,\n  URL,\n  DateTimePicker,\n  DatePicker,\n  DatePickerRange,\n  TimePicker,\n  TimePickerRange,\n  Slug,\n  Color,\n  FieldName,\n  KV\n}\n","const utils = require('./lib/utils')\nconst fusion = require('./lib/fusion')\nconst assign = require('./lib/assign')\nconst iterator = require('./lib/iterator')\nconst compile = require('./lib/compile')\nconst schema = require('./lib/schema')\nconst input = require('./lib/input')\nconst types = require('./lib/types')\nconst fieldifyType = require('./lib/types/type')\nconst pack = require('./package.json')\n\nmodule.exports = {\n  schema,\n  input,\n  types,\n  fusion,\n  assign,\n  iterator,\n  compile,\n  utils,\n  version: pack.version,\n\n  // this is a shortcut to retrieve the root object for types\n  fieldifyType\n}\n","const fusion = require('./fusion')\nconst compile = require('./compile')\nconst iterator = require('./iterator')\nconst assign = require('./assign')\nconst utils = require('./utils')\nconst set = require('./set')\nconst types = require('./types')\n\nconst currentSet = 'F2020V1'\n\nclass fieldifySchema {\n  constructor(name, options) {\n    if (!options) options = {}\n\n    // the set must be previously loaded\n    if (options.set) this.set = set.get(currentSet)\n    else this.set = set.load(currentSet, types)\n\n    this.tree = options.tree || {}\n    this.policy = options.policy || {\n      required: false,\n      read: true,\n      write: true\n    }\n\n    // this.policy.required = this.policy.required === true\n    // this.policy.read = this.policy.read === true\n    // this.policy.write = this.policy.write === true\n  }\n\n  resolver(type) {\n    return (this.set[type])\n  }\n\n  fusion(schema) {\n    this.tree = fusion(this.tree, schema)\n  }\n\n  /**\n   * Compile the targetted schema\n   * @param {Object} schema The schema\n   */\n  compile(schema) {\n    if (schema) this.tree = schema\n\n    const localAssigner = (user, dst, object, source) => {\n      dst.$_key = ('.' + source).split('.').pop()\n\n      for (var a in object) dst[a] = object[a]\n\n      var typeClass = null\n\n      // the type is a string, use the resolver to retrieve\n      // the good object control\n      if (typeof object.$type === 'string') {\n        dst.$type = this.resolver(object.$type)\n        if (!dst.$type) {\n          console.error('Can not resolv type ' + object.$type)\n          return (true)\n        }\n        typeClass = dst.$type.class\n      }\n      else if (object.$type) {\n        typeClass = object.$type.class\n      }\n\n      // create the type with the desired options\n\n      dst.$_type = typeClass ? new typeClass(object.$options) : undefined\n      dst.$_wire = '.' + source\n\n      // apply default policy\n      // use with caution\n      if (user) {\n        dst.$_hidden = true\n        dst.$_wire = user + dst.$_wire\n      }\n\n      // here we apply policy with driven line\n      for (var key in this.policy) {\n        const rkey = '$' + key\n        const value = this.policy[key]\n\n        if (!(rkey in dst)) dst[rkey] = value\n      }\n\n      // TODO: got an issue here to read rewrited options during verifier\n\n      // sanatize options\n      if (!user && dst.$_type && object.$options) {\n        const correctedOptions = dst.$_type.sanatizeOptions(object.$options || {})\n        dst.$options = correctedOptions\n      }\n\n      return (true)\n    }\n\n    // here we store the \"original\" non type schematized use\n    // to work with lineup and to drive the flow of displaying\n    const nonTypeSchematized = assign(this.tree, localAssigner)\n\n    // extract the schematized types\n    // this will be use in background for verification\n    // and filtering\n    const typeSchematized = assign(nonTypeSchematized, (user, dst, object, source) => {\n      if (object.$_type && object.$_type.schematizer) {\n        const patch = object.$_type.schematizer(object)\n        if (patch !== null) {\n          for (var a in object) dst[a] = object[a]\n\n          // extract sub fields\n          const extract = assign(patch, localAssigner, object.$_wire)\n          for (var a in extract) dst[a] = extract[a]\n\n          dst.$_schematized = true\n        }\n        else for (var a in object) dst[a] = object[a]\n      }\n      else for (var a in object) dst[a] = object[a]\n\n      return (true)\n    })\n\n    // we will finally based the search on the assigned extraction\n    this.handler = compile(nonTypeSchematized, this.resolver.bind(this))\n    this.handlerSchematized = compile(typeSchematized, this.resolver.bind(this))\n  }\n\n  /**\n   * Export the current working schema\n   */\n  export(pv) {\n    const localAssigner = (user, dst, object, source) => {\n      if (object.$_hidden === true) return (true)\n\n      for (var a in object) {\n        if (utils.leafPrivate.test(a) && pv === true) {\n          dst[a] = object[a]\n        }\n        else if (utils.leaf.test(a) && utils.leafPrivate.test(a) === false && pv !== true) {\n          dst[a] = object[a]\n        }\n      }\n\n      if (typeof dst.$type !== 'string' && dst.$type) dst.$type = dst.$type.code\n\n      return (true)\n    }\n\n    //  prune and return\n    return (assign(this.handler.schema, localAssigner))\n  }\n\n  /**\n   * Verify User Input following Schema Definition\n   * @param {*} input User input\n   * @param {*} onEnd Function is async, fired when verification is done\n   */\n  verify(input, onEnd) {\n    const ret = {\n      error: false\n    }\n\n    const opts = {\n      handler: this.handlerSchematized,\n      input: input,\n\n      onAssign: (current, next) => {\n        // get different pointer we need\n        const { access, input } = current\n\n        // check if access schema has right to write\n        if (access.$write !== true) {\n          // do not response to avoid field discovery\n          // just ignore the field\n          // if user set required without then it\n          // will have logic conflict\n          return (next())\n        }\n\n        // check if the field is required\n        if (access.$required === true && input === undefined) {\n          ret.error = true\n          if (!ret.fields) ret.fields = {}\n          ret.fields[current.line] = 'Required Field'\n          return (next())\n        }\n        // in opposite, if the field is not required\n        // then we should not run the verifier\n        if (access.$required !== true && input === undefined) {\n          // just a pass through\n          return (next())\n        }\n\n        // run the type dependant verifier\n        if (access.$_type) {\n          access.$_type.verify(input, (error) => {\n            // there is error during verification\n            if (error !== null) {\n              ret.error = true\n              if (!ret.fields) ret.fields = {}\n              ret.fields[current.line] = error.message\n              return (next())\n            }\n\n            // just assign value\n            current.result[current.key] = input\n            next()\n          })\n        }\n        else {\n          ret.error = true\n          if (!ret.fields) ret.fields = {}\n          ret.fields[current.line] = 'Need field interpretor'\n          return (next())\n        }\n      }\n    }\n\n    return new Promise(function (resolve, reject) {\n      opts.onEnd = (iterator) => {\n        ret.result = iterator.result\n        if (onEnd) onEnd(ret)\n        resolve(ret)\n      }\n      iterator(opts)\n    })\n  }\n\n  /**\n   * Filter Database Output following Schema Definition\n   * @param {*} output\n   * @param {*} onEnd\n   */\n  filter(output, onEnd) {\n    return new Promise((resolve, reject) => {\n      if (Array.isArray(output)) {\n        const ret = {\n          error: false,\n          result: []\n        }\n        utils.eachItem(output, (index, ptr, next, oend) => {\n          if (oend === true) {\n            if (onEnd) onEnd(ret)\n            resolve(ret)\n            return\n          }\n\n          // apply filter on each entry\n          this._filterLine(ptr, ({ result }) => {\n            ret.result.push(result)\n            next()\n          })\n        })\n      }\n      else {\n        this._filterLine(output, (res) => {\n          if (onEnd) onEnd(res)\n          resolve(res)\n        })\n      }\n    })\n  }\n\n  /**\n   * Encode the input data following fieldify schema\n   * @param {*} input\n   * @param {*} onEnd When operation is done\n   */\n  encode(input, onEnd) {\n    this.flow('encode', input, onEnd)\n  }\n\n  /**\n   * Decode the input data following fieldify schema\n   * @param {*} input\n   * @param {*} onEnd When operation is done\n   */\n  decode(input, onEnd) {\n    this.flow('decode', input, onEnd)\n  }\n\n  /**\n   * Execute type callback following the flow of the schema\n   * @param {String} direction The executed callback inside the type\n   * @param {*} input Input data\n   * @param {*} onEnd Called when finish to read\n   */\n  flow(direction, input, onEnd) {\n    const ret = {\n      error: false\n    }\n\n    const opts = {\n      handler: this.handlerSchematized,\n      input: input,\n\n      onAssign: (current, next) => {\n        // get different pointer we need\n        const { access, result, input } = current\n\n        // run the type dependant verifier\n        access.$_type[direction](input, (output) => {\n          // just assign value\n          result[current.key] = output\n          next()\n        })\n      },\n\n      onEnd: (iterator) => {\n        ret.result = iterator.result\n        onEnd(ret)\n      }\n    }\n    iterator(opts)\n  }\n\n  /**\n   * Get lineup allow to read the schema following a string\n   * @param {String} lineup String, field separate by points\n   * @param {Boolean} beforeLast Return the before last instead of the last one\n   * @returns {Object}\n   *\n   * The string must start with a point:\n   * getLineup(\".\") = get the root schema\n   * getLineup(\".fieldA.fieldB\")\n   */\n  getLineup(lineup, beforeLast) {\n    const fields = lineup.split('.')\n    fields.shift()\n\n    let bLast = this.handler.schema\n    let root = this.handler.schema\n\n    for (let a = 0; a < fields.length; a++) {\n      const field = fields[a]\n      let ptr = root[field]\n      bLast = root\n\n      if (Array.isArray(ptr)) ptr = ptr[0]\n\n      if (!ptr) return (beforeLast === true ? { beforeLast: bLast, last: null, fields } : null)\n      root = ptr\n    }\n\n    return (beforeLast === true ? { beforeLast: bLast, last: root, fields } : root)\n  }\n\n  /**\n   * Set an object in the schema following the lineup string\n   * @param {String} lineup\n   * @param {Object} obj\n   *\n   * The string must start with a point:\n   * setLineup(\".fieldA.fieldB\", {$type: Types.String})\n   */\n  setLineup(lineup, obj) {\n    const root = this.getLineup(lineup, true)\n    const injection = root.beforeLast\n    const key = root.fields[root.fields.length - 1]\n\n    if (!injection) return (false)\n\n    // inject the field as it into the schema\n    injection[key] = obj\n\n    // during the injection and to avoid recompilation\n    // we will dynamically resolv the type\n    if (obj.$type && typeof obj.$type === 'string') {\n      obj.$type = this.resolver(obj.$type)\n    }\n\n    return (true)\n  }\n\n  /**\n   * Rename a line up\n   * @param {String} oldLineup\n   * @param {String} newLineup\n   */\n  renameLineup(oldLineup, newLineup) {\n    // get old lineup info\n    const root = this.getLineup(oldLineup, true)\n    const injection = root.beforeLast\n    const key = root.fields[root.fields.length - 1]\n    const saved = injection[key]\n\n    if (!injection || !saved) return (false)\n\n    // prepare new lineup\n    const fields = newLineup.split('.')\n    fields.shift()\n    const newKey = fields[fields.length - 1]\n\n    if (!newKey) return (false)\n\n    // restore on the new place\n    injection[newKey] = saved\n\n    return (true)\n  }\n\n  /**\n   * Remove object (and everything else) following the lineup String\n   * @param {String} lineup\n   */\n  removeLineup(lineup) {\n    const root = this.getLineup(lineup, true)\n    const injection = root.beforeLast\n    const key = root.fields[root.fields.length - 1]\n\n    if (!injection) return (false)\n\n    // inject the field as it into the schema\n    delete injection[key]\n\n    return (true)\n  }\n\n  _filterLine(input, onEnd) {\n    const ret = {\n      error: false\n    }\n\n    const opts = {\n      handler: this.handlerSchematized,\n      input: input,\n\n      onAssign: (current, next) => {\n        // get different pointer we need\n        const { access, result, input } = current\n\n        // check if access schema has right to write\n        if (access.$read !== true) {\n          // do not response to avoid field discovery\n          // just ignore the field\n          // if user set required without then it\n          // will have logic conflict\n          return (next())\n        }\n\n        // run the type dependant verifier\n        access.$_type.filter(input, (error) => {\n          // do not assign the value because there is\n          // an error\n          if (error !== null) {\n            return (next())\n          }\n\n          // just assign value\n          result[current.key] = input\n          next()\n        })\n      },\n\n      onEnd: (iterator) => {\n        ret.result = iterator.result\n        onEnd(ret)\n      }\n    }\n    iterator(opts)\n  }\n}\n\nmodule.exports = fieldifySchema\n","\nclass fieldifySet {\n  constructor () {\n    this.sets = {}\n  }\n\n  load (name, fields) {\n    if (this.sets[name]) return (this.sets[name])\n\n    this.sets[name] = fields\n\n    // load fields\n\n    return (this.sets[name])\n  }\n\n  get (name) {\n    return (this.sets[name])\n  }\n}\n\n// one global instance\nmodule.exports = new fieldifySet()\n","const signderivaType = require('./type')\n\nconst strictRegex = /`|~|!|@|#|\\$|%|\\^|&|\\*|\\(|\\)|\\+|=|\\[|\\{|\\]|\\}|\\||\\\\|'|<|,|\\.|>|\\?|\\/|\"|;|:/gm\nconst noUnicodeRegex = /[\\x7E-\\xFF]+/gm\n\nclass signderivaTypeString extends signderivaType {\n  verify(input, cb) {\n    if (typeof input !== 'string') {\n      return (cb(new Error('Not a string')))\n    }\n\n    if ('min' in this.options && input.length < this.options.min) {\n      return (cb(new Error(`String is too short (min: ${this.options.min})`)))\n    }\n\n    if ('max' in this.options && input.length > this.options.max) {\n      return (cb(new Error(`String is too long (max: ${this.options.max})`)))\n    }\n\n    if (this.options.strict === true && input.match(strictRegex)) {\n      return (cb(new Error('Forbidden special chars')))\n    }\n\n    if (this.options.unicode === false && noUnicodeRegex.test(input)) {\n      return (cb(new Error('Unicode is forbidden')))\n    }\n\n    cb(null, input)\n  }\n\n  configuration() {\n    return ({\n      placeholder: {\n        $doc: 'Field placeholder',\n        $required: false,\n        $type: 'String'\n      },\n      help: {\n        $doc: 'Help / Bottom message',\n        $required: false,\n        $type: 'String'\n      },\n      min: {\n        $doc: 'Minimun length',\n        $required: false,\n        $type: 'Number',\n        $options: {\n          default: 1\n        }\n      },\n      max: {\n        $doc: 'Maximun length',\n        $required: false,\n        $type: 'Number',\n        $options: {\n          default: 256\n        }\n      },\n      strict: {\n        $doc: 'Strict Mode',\n        $help: 'Specials Chars Are Forbidden',\n        $required: false,\n        $type: 'Checkbox',\n        $options: {\n          default: false\n        }\n      },\n      unicode: {\n        $doc: 'Accept Unicode',\n        $help: 'Accept Char From Different Languages',\n        $required: false,\n        $type: 'Checkbox',\n        $options: {\n          default: true\n        }\n      }\n    })\n  }\n}\n\nmodule.exports = {\n  code: 'String',\n  description: 'String of characters',\n  class: signderivaTypeString\n}\n","const signderivaType = require('./type')\n\nconst onlyNumber = /^[0-9]+$/\nconst onlyFloat = /^[0-9]+\\.[0-9]$/\n\nfunction isInt(n) {\n  return n % 1 === 0\n}\n\nfunction isFloat(n) {\n  return n % 1 !== 0\n}\n\nclass signderivaTypeNumber extends signderivaType {\n  verify(input, cb) {\n    if (isNaN(input)) return (cb(new Error('Not a number')))\n\n    switch (this.options.acceptedTypes) {\n      // integer only\n      case 'integer':\n        var conv = input\n        if (typeof input === 'string') {\n          if (!onlyNumber.test(input)) return (cb(new Error('Is not an integer')))\n          conv = parseInt(input)\n        }\n        if (!isInt(conv)) return (cb(new Error('Is not an integer')))\n        break\n\n      // float only\n      case 'float':\n        var conv = input\n        if (typeof input === 'string') {\n          if (!onlyFloat.test(input)) return (cb(new Error('Is not an float')))\n          conv = parseFloat(input)\n        }\n        if (!isFloat(conv)) return (cb(new Error('Is not an float')))\n        break\n\n      // both\n      default:\n        var conv = input\n        if (typeof input === 'string') conv = parseInt(input)\n        if (!isInt(conv)) {\n          if (typeof input === 'string') conv = parseFloat(input)\n          if (!isFloat(conv)) return (cb(new Error('Is not an integer nor float')))\n        }\n        break\n    }\n\n    cb(null)\n  }\n\n  sanatizeOptions(input) {\n    const output = {\n      // acceptedTypes: typeof input.acceptedTypes === 'string' ? input.acceptedTypes : 'both',\n    }\n    return (output)\n  }\n\n  configuration() {\n    return ({\n      // TODO: test min & max\n      acceptedTypes: {\n        $doc: 'What kind of number to accept',\n        $required: true,\n        $type: 'Select',\n        $options: {\n          default: 'both',\n          items: {\n            both: 'Both Integer & Float',\n            integer: 'Only Integer',\n            float: 'Only Float'\n          }\n        }\n      }\n    })\n  }\n}\n\nmodule.exports = {\n  code: 'Number',\n  description: 'Various Numbers',\n  class: signderivaTypeNumber\n}\n","const signderivaType = require('./type')\n\n// TODO: see if we need a number range\n\nclass signderivaTypeNumberPicker extends signderivaType {\n\n}\n\nmodule.exports = {\n  code: 'NumberPicker',\n  description: 'Slider and number picker',\n  class: signderivaTypeNumberPicker\n}\n","const fieldifyType = require('./type')\n\nclass fieldifyTypeSelector extends fieldifyType {\n  // TODO: verifier\n\n  sanatizeOptions (input) {\n    const output = {\n      placeholder: typeof input.placeholder === 'string' ? input.placeholder : undefined,\n      help: typeof input.help === 'string' ? input.help : undefined,\n      default: typeof input.default === 'string' ? input.default : undefined,\n      items: typeof input.items === 'object' ? input.items : undefined\n    }\n    return (output)\n  }\n\n  configuration () {\n    return ({\n      default: {\n        $doc: 'Default selection (key)',\n        $required: false,\n        $type: 'String'\n      },\n      items: {\n        $doc: 'Items in selector',\n        $required: true,\n        $type: 'KV'\n      }\n    })\n  }\n}\n\nmodule.exports = {\n  code: 'Select',\n  description: 'Selector',\n  class: fieldifyTypeSelector\n}\n","const fieldifyType = require('./type')\n\nclass fieldifyTypeRadio extends fieldifyType {\n  // TODO: verifier\n\n  // sanatizeOptions (input) {\n  //   const output = {\n  //     placeholder: typeof input.placeholder === 'string' ? input.placeholder : undefined,\n  //     help: typeof input.help === 'string' ? input.help : undefined,\n  //     default: typeof input.default === 'string' ? input.default : undefined,\n  //     items: typeof input.items === 'object' ? input.items : undefined\n  //   }\n  //   return (output)\n  // }\n\n  configuration () {\n    return ({\n      default: {\n        $doc: 'Default selection (key)',\n        $required: false,\n        $type: 'String'\n      },\n      items: {\n        $doc: 'Items in selector',\n        $required: true,\n        $type: 'KV'\n      },\n      horizontal: {\n        $doc: 'Horizontal',\n        $required: false,\n        $type: 'Checkbox'\n      }\n    })\n  }\n}\n\nmodule.exports = {\n  code: 'Radio',\n  description: 'Radio Selector',\n  class: fieldifyTypeRadio\n}\n","const signderivaType = require('./type')\n\nclass signderivaTypeName extends signderivaType {\n  // TODO: regression test\n  schematizer () {\n    return ({\n      first: {\n        $type: 'String',\n        $options: {\n          strict: true,\n          min: 2,\n          max: 128,\n          unicode: true\n        }\n      },\n      last: {\n        $type: 'String',\n        $options: {\n          strict: true,\n          min: 2,\n          max: 128,\n          unicode: true\n        }\n      }\n    })\n  }\n}\n\nmodule.exports = {\n  code: 'Name',\n  description: 'Name (first and last name)',\n  class: signderivaTypeName\n}\n","const signderivaType = require('./type')\n\n// TODO: check for DoS here\n// eslint-disable-next-line no-control-regex\nconst regex = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/\n\n// TODO: add option no sub address\n\nclass signderivaTypeEmailAddress extends signderivaType {\n  verify (input, cb) {\n    if (typeof input !== 'string') {\n      return (cb(new Error('Not an e-mail')))\n    }\n\n    const ret = regex.test(input)\n    if (ret !== true) return (cb(new Error('Invalid e-mail address')))\n\n    return (cb(null))\n  }\n\n  // force to lower\n  encode (input, cb) {\n    input = input.toLowerCase()\n    if (cb) cb(input)\n    return (input)\n  }\n}\n\nmodule.exports = {\n  code: 'Email',\n  description: 'E-mail address',\n  class: signderivaTypeEmailAddress\n}\n","const fieldifyType = require('./type')\n\nclass fieldifyTypeCheckbox extends fieldifyType {\n  // TODO: verifier\n  configuration () {\n    return ({\n      placeholder: {\n        $doc: 'Field placeholder',\n        $required: false,\n        $type: 'String'\n      }\n    })\n  }\n}\n\nmodule.exports = {\n  code: 'Checkbox',\n  description: 'Checkbox Options',\n  class: fieldifyTypeCheckbox\n}\n","const signderivaType = require('./type')\n\n// Support\n// SHA1\n// SHA256 < default\n// SHA512\n\n//  TODO:  -a, --algorithm   1 (default), 224, 256, 384, 512, 512224, 512256\n\nconst _sha1 = /\\b[0-9a-f]{5,40}\\b/\nconst _sha256 = /\\b[A-Fa-f0-9]{64}\\b/\nconst _sha512 = /\\b[A-Fa-f0-9]{128}\\b/\n\nclass signderivaTypeHash extends signderivaType {\n  constructor(options) {\n    super(options)\n    switch (this.options.mode) {\n      case 'SHA1':\n        this.verify = this.sha1Verifier.bind(this)\n        break\n\n      case 'SHA512':\n        this.verify = this.sha512Verifier.bind(this)\n        break\n\n      // eslint-disable-next-line default-case-last\n      default:\n      case 'SHA256':\n        this.verify = this.sha256Verifier.bind(this)\n        break\n    }\n  }\n\n  sha1Verifier(input, cb) {\n    if (!input) return (cb(new Error('Not a string')))\n    const ret = _sha1.test(input)\n    if (ret !== true) return (cb(new Error('Not a SHA1 Hash')))\n    return (cb(null))\n  }\n\n  sha256Verifier(input, cb) {\n    if (!input) return (cb(new Error('Not a string')))\n    const ret = _sha256.test(input)\n    if (ret !== true) return (cb(new Error('Not a SHA256 Hash')))\n    return (cb(null))\n  }\n\n  sha512Verifier(input, cb) {\n    if (!input) return (cb(new Error('Not a string')))\n    const ret = _sha512.test(input)\n    if (ret !== true) return (cb(new Error('Not a SHA512 Hash')))\n    return (cb(null))\n  }\n\n  configuration() {\n    return ({\n      mode: {\n        $doc: 'Awaited hash type',\n        $required: false,\n        $type: 'Select',\n        $options: {\n          default: 'SHA256',\n          items: {\n            sha1: 'SHA1',\n            sha256: 'SHA256',\n            sha512: 'SHA512'\n          }\n        }\n      }\n    })\n  }\n}\n\nmodule.exports = {\n  code: 'Hash',\n  description: 'Computer Hash',\n  class: signderivaTypeHash\n}\n","const signderivaType = require('./type')\n\n// Support\n// SHA1\n// SHA256 < default\n// SHA512\n\n// eslint-disable-next-line no-useless-escape\n// const regex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/g\n\nclass signderivaTypeURL extends signderivaType {\n  constructor(options) {\n    super(options)\n\n    if (!this.options.maxLength) this.options.maxLength = 256\n    if (!this.options.minLength) this.options.minLength = 8\n  }\n  // TODO: verifier must be ported and reviewed\n  // TODO: support protocol selection using a KV\n\n  // verifier (input, cb) {\n  //   if (!input) {\n  //     if (cb) cb(false)\n  //     return (false)\n  //   }\n\n  //   if (typeof input !== 'string') {\n  //     if (cb) cb(false)\n  //     return (false)\n  //   }\n\n  //   if (input.length <= 0 || input.length > this.options.maxLength) {\n  //     if (cb) cb(false)\n  //     return (false)\n  //   }\n\n  //   const ret = regex.test(input)\n  //   if (cb) cb(ret)\n  //   return (ret)\n  // }\n}\n\nmodule.exports = {\n  code: 'URL',\n  description: 'URL',\n  class: signderivaTypeURL\n}\n","const signderivaType = require('./type')\n\nclass signderivaTypeDateTimePicker extends signderivaType {\n  // TODO: verifier\n  // TODO: test\n}\n\nmodule.exports = {\n  code: 'DateTimePicker',\n  description: 'Date & Time Picker',\n  class: signderivaTypeDateTimePicker\n}\n","const signderivaType = require('./type')\n\nclass signderivaTypeDatePicker extends signderivaType {\n  // TODO: verifier\n  // TODO: test\n}\n\nmodule.exports = {\n  code: 'DatePicker',\n  description: 'Date Picker',\n  class: signderivaTypeDatePicker\n}\n","const signderivaType = require('./type')\n\nclass signderivaTypeDatePickerRange extends signderivaType {\n  // TODO: test\n  schematizer () {\n    return ({\n      from: {\n        $type: 'DatePicker'\n      },\n      to: {\n        $type: 'DatePicker'\n      }\n    })\n  }\n}\n\nmodule.exports = {\n  code: 'DatePickerRange',\n  description: 'Date Picker Range',\n  class: signderivaTypeDatePickerRange\n}\n","const signderivaType = require('./type')\n\nclass signderivaTypeTimePicker extends signderivaType {\n// TODO: verifier & schema\n}\n\nmodule.exports = {\n  code: 'TimePicker',\n  description: 'Time Picker',\n  class: signderivaTypeTimePicker\n}\n","const signderivaType = require('./type')\n\nclass signderivaTypeTimePickerRange extends signderivaType {\n  // TODO: verifier\n  schematizer () {\n    return ({\n      from: {\n        $type: 'TimePicker'\n      },\n      to: {\n        $type: 'TimePicker'\n      }\n    })\n  }\n}\n\nmodule.exports = {\n  code: 'TimePickerRange',\n  description: 'Time PickerRange',\n  class: signderivaTypeTimePickerRange\n}\n","const signderivaType = require('./type')\n\nconst regex = /^[a-z0-9]+(?:-[a-z0-9]+)*$/g\n\nclass signderivaTypeSlug extends signderivaType {\n  // TODO: verifier to be ported and reviewed\n\n  // verifier (input, cb) {\n  //   if (!input) {\n  //     if (cb) cb(false)\n  //     return (false)\n  //   }\n\n  //   if (typeof input !== 'string') {\n  //     if (cb) cb(false)\n  //     return (false)\n  //   }\n\n  //   const ret = regex.test(input)\n  //   if (cb) cb(ret)\n  //   return (ret)\n  // }\n}\n\nmodule.exports = {\n  code: 'Slug',\n  description: 'Slug name',\n  class: signderivaTypeSlug\n}\n","const signderivaType = require('./type')\n\n\nconst regex = /^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/\n\nclass signderivaTypeColor extends signderivaType {\n  verify(input, cb) {\n    if (!input) {\n      if (cb) cb(new Error('No input'))\n      return\n    }\n\n    if (typeof input !== 'string') {\n      if (cb) cb(new Error('Input is not a string'))\n      return\n    }\n\n    // verify\n    const ret = regex.test(input)\n    const validation = ret !== true ? new Error('Invalid input color') : null\n    if (cb) cb(validation)\n  }\n}\n\nmodule.exports = {\n  code: 'Color',\n  description: 'HTML Color',\n  class: signderivaTypeColor\n}\n","const fieldifyType = require('./type')\n\nconst regex = /^([a-z0-9-]+)$/i\n\nclass fieldifyTypeFieldName extends fieldifyType {\n  verify(input, cb) {\n    if (!input) {\n      return (cb(null))\n    }\n\n    if (typeof input !== 'string') {\n      return (cb(new Error('Not a string')))\n    }\n\n    const ret = regex.test(input)\n    if (!ret) return (cb(new Error('Forbidden special chars')))\n\n    return (cb(null))\n  }\n}\n\nmodule.exports = {\n  code: 'FieldName',\n  description: 'Restricted Field Name',\n  class: fieldifyTypeFieldName\n}\n","const signderivaType = require('./type')\n\nconst regex = /^([a-z0-9]+)$/i\n\nclass signderivaTypeKV extends signderivaType {\n  verify (input, cb) {\n    if (!input || typeof input !== 'object' || input.constructor.name !== 'Object') {\n      return (cb(new Error('Not a KV')))\n    }\n\n    let count = 0\n    for (const key in input) {\n      // verify the key\n      const ret = regex.test(key)\n      if (!ret) return (cb(new Error('Invalid key name ' + key)))\n      count++\n    }\n\n    if ('min' in this.options && count < this.options.min) {\n      return (cb(new Error(`Need more elements (min: ${this.options.min})`)))\n    }\n\n    if ('max' in this.options && count > this.options.max) {\n      return (cb(new Error(`Too much elements (max: ${this.options.max})`)))\n    }\n\n    cb(null)\n  }\n\n  // sanatizeOptions (input) {\n  //   const output = {\n  //     placeholder: typeof input.placeholder === 'string' ? input.placeholder : undefined,\n  //     help: typeof input.help === 'string' ? input.help : undefined,\n  //     min: typeof input.min === 'number' ? input.min : undefined,\n  //     max: typeof input.max === 'number' ? input.max : undefined,\n  //     strict: typeof input.strict === 'boolean' ? input.strict : undefined,\n  //     unicode: typeof input.unicode === 'boolean' ? input.unicode : undefined\n  //   }\n  //   return (output)\n  // }\n\n  configuration () {\n    return ({\n      min: {\n        $doc: 'Minimun of items',\n        $required: false,\n        $type: 'Number',\n        $options: {\n          acceptedTypes: 'integer'\n        }\n      },\n      max: {\n        $doc: 'Maximun of items',\n        $required: false,\n        $type: 'Number',\n        $options: {\n          acceptedTypes: 'integer'\n        }\n      }\n    })\n  }\n}\n\nmodule.exports = {\n  code: 'KV',\n  description: 'Object with single Key / Value',\n  class: signderivaTypeKV\n}\n","\n// const fusion = require('./fusion')\n// const compile = require('./compile')\n// const iterator = require('./iterator')\n// const assign = require('./assign')\n// const utils = require('./utils')\n\nclass fieldifyInput {\n  constructor (schema, value) {\n    this.schema = schema\n    this._value = value || {}\n    this.verifying = false\n  }\n\n  setValue (input) {\n    this._value = input\n  }\n\n  getValue () {\n    return (this._value)\n  }\n\n  verify (cb) {\n    this.schema.verify(this._value, cb)\n  }\n\n  reset () {\n    this._value = {}\n  }\n\n  set (line, data) {\n    const node = this.get(line, true)\n    if (node) node.input[node.fields[node.fields.length - 1]] = data\n  }\n\n  get (line, create) {\n    const fields = line.split('.')\n    fields.shift()\n\n    const schema = this.schema.handler.schema\n    var input = this._value\n    var schemaCur, inputCur\n\n    // align integers in field name\n    for (let a = 0; a < fields.length; a++) {\n      const field = fields[a]\n      if (!isNaN(field)) {\n        field = parseInt(field, 2)\n        fields[a] = field\n      }\n    }\n\n    // horizontal read\n    var inArray = null\n    schemaCur = schema\n    for (var a = 0; a < fields.length - 1; a++) {\n      var field = fields[a]\n\n      schemaCur = schema[field]\n      inputCur = input[field]\n\n      if (Array.isArray(schemaCur)) {\n        inArray = schemaCur[0]\n\n        // check whether input is ready for array\n        if (!inputCur || !Array.isArray(inputCur)) {\n          // malformed input\n          if (create !== true) return (null)\n\n          // reconstruct the input\n          input[field] = []\n        }\n\n        // swap schema and input\n        inputCur = input[field]\n        schema = schemaCur\n        input = inputCur\n\n        // dont need to go away\n        continue\n      }\n\n      if (inArray) {\n        if (isNaN(field)) return (null)\n        field = parseInt(field)\n        schemaCur = inArray\n      }\n\n      if (!schemaCur) {\n        return (null)\n      }\n\n      // no input found for this entry\n      // initialize it\n      inputCur = input[field]\n\n      // awaiting nested in input\n      if (schemaCur.$_nested === true || (inArray && inArray.$_nested === true)) {\n        if (!inputCur || typeof inputCur !== 'object' || inputCur.constructor.name !== 'Object') {\n          if (create === true) input[field] = {}\n          else return (null)\n        }\n      }\n\n      inputCur = input[field]\n\n      if (!inputCur && create !== true) return (null)\n\n      // swap schema and input\n      schema = schemaCur\n      input = inputCur\n      inArray = null\n    }\n\n    // console.log(\"will write at\", input)\n\n    return ({ schema, input, fields })\n\n    // return (null)\n  }\n\n  remove (line) {\n    const node = this.get(line)\n    if (node) {\n      const key = node.fields[node.fields.length - 1]\n      if (Array.isArray(node.input)) node.input.splice(key, 1)\n      else delete node.input[node.fields[node.fields.length - 1]]\n    }\n  }\n}\n\nmodule.exports = fieldifyInput\n","import React from 'react'\n\n\nimport { Schema, Types, Input, Version as faVersion } from '@fieldify/antd'\n\nimport { Checkbox, Space, Row, Col, Card, Tabs, Tag, Form, Radio, Divider, Layout } from 'antd';\n\nimport \"antd/dist/antd.css\";\nimport \"./index.css\";\n\nimport { version as fVersion } from 'fieldify';\n\nimport logoIcon from './fieldify.png'\n\nconst {\n  FieldifySchemaBuilder,\n  FieldifySchema,\n  FieldifySchemaForm,\n  FieldifySchemaRender\n} = Schema\n\nconst { TabPane } = Tabs\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n\n    const initial = {\n      company: {\n        $doc: \"Your company name\",\n        $type: \"String\",\n        $position: 0\n      },\n      name: {\n        $doc: \"Civility\",\n        $type: \"Name\",\n        $position: 1\n      },\n\n      email: {\n        $doc: \"Votre e-mail\",\n        $type: \"Email\",\n        $position: 2\n      },\n\n      age: {\n        $doc: \"Age\",\n        $type: \"Number\",\n        $position: 3\n      },\n\n      KV: {\n        $doc: \"Key and Value\",\n        $type: \"KV\",\n        $position: 4\n      },\n\n      types: {\n        $doc: 'What kind of number to accept',\n        $required: true,\n        $type: 'Select',\n        $options: {\n          default: 'both',\n          items: {\n            both: 'Both Integer & Float',\n            integer: 'Only Integer',\n            float: 'Only Float'\n          }\n        }\n      },\n\n      address: {\n        $doc: \"Address\",\n        home: {\n          $doc: \"Home\",\n          street: { $doc: \"Street\", $type: \"String\", $options: { min: 2, placeholder: \"Your street\" } },\n          zip: { $doc: \"ZIP\", $type: \"String\" },\n          country: { $doc: \"Country\", $type: \"String\" },\n        },\n        work: {\n          $doc: \"Work\",\n          street: { $doc: \"Street\", $type: \"String\" },\n          zip: { $doc: \"ZIP\", $type: \"String\" },\n          country: { $doc: \"Country\", $type: \"String\" },\n        },\n      },\n\n      nestedArray: [{\n        $doc: \"Array of Objects (nested)\",\n        name: {\n          $doc: \"Civility\",\n          $type: \"Name\",\n          $position: 1\n        },\n        description: { $doc: \"Description\", $type: \"String\", $options: { strict: true } },\n        price: { $doc: \"Price\", $type: \"String\" },\n        $array: {\n          min: 2\n        }\n      }],\n\n      inlinedArray: [{\n        $required: true,\n        $doc: \"Array of User Defined types (non-nested)\",\n        $type: \"Name\",\n        $options: { min: 2 },\n        $array: {\n          min: 2,\n          max: 100\n        }\n      }],\n\n      inlinedArrayString: [{\n        $required: true,\n        $doc: \"Array of String type (non-nested)\",\n        $type: \"String\",\n        $array: {\n          min: 1,\n          max: 100\n        }\n      }],\n\n      Radio: {\n        \"$type\": \"Radio\",\n        \"$doc\": \"Radio description\",\n        \"$options\": {\n          \"default\": \"1\",\n          \"items\": {\n            \"1\": \"Une cle\",\n            \"2\": \"2 Cle\",\n            \"3\": \"key 3\"\n          },\n          \"horizontal\": false\n        }\n      },\n\n      Checkbox: {\n        \"$type\": \"Checkbox\",\n        \"$doc\": \"Checkbox description\",\n        \"$options\": {\n          \"placeholder\": \"With placeholder\"\n        }\n      },\n\n      DateTimePicker: {\n        \"$type\": \"DateTimePicker\",\n        \"$doc\": \"DateTimePicker\",\n      },\n\n      DatePicker: {\n        \"$type\": \"DatePicker\",\n        \"$doc\": \"DatePicker\"\n      },\n      DatePickerRange: {\n        \"$type\": \"DatePickerRange\",\n        \"$doc\": \"DatePickerRange\"\n      },\n\n      TimePicker: {\n        \"$type\": \"TimePicker\",\n        \"$doc\": \"TimePicker\"\n      },\n      TimePickerRange: {\n        \"$type\": \"TimePickerRange\",\n        \"$doc\": \"TimePickerRange\"\n      },\n\n\n    }\n\n    this.state = this.cycle({\n      schema: initial,\n      input: {}\n    }, true)\n\n  }\n\n  cycle(props, first) {\n\n    const state = {\n      schema: props.schema,\n      input: props.input,\n      inputRender: { ...props.input },\n\n      selector: {\n        builder: true,\n        form: false,\n        rendered: false,\n      },\n      form: {\n        layout: \"horizontal\",\n        json: JSON.stringify(props.input, null, \"  \"),\n        state: \"Filling\",\n        color: \"blue\"\n      },\n      builder: {\n        json: JSON.stringify(props.schema, null, \"  \")\n      },\n      render: {\n        layout: \"horizontal\"\n      }\n    }\n\n    return (state)\n  }\n\n\n  builderChanged(schema) {\n    const state = {\n      schema: schema,\n      builder: {\n        json: JSON.stringify(schema, null, \"  \")\n      }\n    }\n\n    this.setState(state)\n  }\n\n  formChanged(input, value) {\n    // run the verifier on each change to \n    // get the status into the title\n\n    input.verify((result) => {\n\n      const state = {\n        inputRender: { ...result.result },\n        form: {\n          layout: this.state.form.layout,\n          data: result.result,\n          json: JSON.stringify(value, null, \"  \")\n        }\n      }\n\n      if (result.error === true) {\n        state.form.color = \"orange\"\n        state.form.state = \"Verify Failed\"\n      }\n      else {\n        state.form.color = \"green\"\n        state.form.state = \"Passed\"\n      }\n\n      this.setState(state)\n    })\n  }\n\n  selector(key, value) {\n    const res = { ...this.state.selector }\n    res[key] = value\n    this.setState({ selector: res })\n  }\n\n  render() {\n    const style = { padding: '8px', };\n\n    return <Layout style={{ margin: '0 auto', padding: 10 }}>\n      <Row>\n        <h1><img src={logoIcon} width={40} /> @fieldify/antd</h1>\n      </Row>\n\n      <Row>\n        <small><a href=\"https://github.com/mykiimike/fieldify\">Fieldify Engine</a> v{fVersion} / <a href=\"https://github.com/Fieldify/antd\">Fieldify For antd</a> v{faVersion}</small>\n      </Row>\n\n      <Row>\n        <div>\n          <Checkbox checked={this.state.selector.builder} onChange={({ target }) => this.selector(\"builder\", target.checked)}>Show builder</Checkbox>\n          <Checkbox checked={this.state.selector.form} onChange={({ target }) => this.selector(\"form\", target.checked)}>Show form</Checkbox>\n          <Checkbox checked={this.state.selector.rendered} onChange={({ target }) => this.selector(\"rendered\", target.checked)}>Show rendered</Checkbox>\n        </div>\n      </Row>\n\n      <Row>\n\n        {this.state.selector.builder === true ?\n          <Col sm={12} xxl={8}>\n            <div style={style}>\n              <Card size=\"small\" title=\"Pass #1 - Building\">\n                <Tabs defaultActiveKey=\"1\">\n                  <TabPane tab=\"Visual Editor\" key=\"1\">\n                    <FieldifySchemaBuilder schema={this.state.schema} onChange={this.builderChanged.bind(this)} />\n                  </TabPane>\n                  <TabPane tab=\"JSON Schema\" key=\"2\">\n                    <pre>\n                      {this.state.builder.json}\n                    </pre>\n                  </TabPane>\n                </Tabs>\n              </Card>\n            </div>\n          </Col>\n          : null}\n\n        {this.state.selector.form === true ?\n          <Col sm={12} xxl={8}>\n            <div style={style}>\n              <Card size=\"small\" title={<>Pass #2 - Filling Form <Tag color={this.state.form.color}>{this.state.form.state}</Tag></>}>\n                <Tabs defaultActiveKey=\"1\">\n                  <TabPane tab=\"Visual Rendering\" key=\"1\">\n                    <Form>\n                      <Form.Item label=\"Form Layout\" name=\"layout\">\n                        <Radio.Group\n                          value={this.state.form.layout}\n                          onChange={({ target }) => {\n                            this.setState({ form: { ...this.state.form, layout: target.value } })\n                          }}\n                        >\n                          <Radio.Button value=\"horizontal\">Horizontal</Radio.Button>\n                          <Radio.Button value=\"vertical\">Vertical</Radio.Button>\n                          <Radio.Button value=\"inline\">Inline</Radio.Button>\n                        </Radio.Group>\n                      </Form.Item>\n                    </Form>\n                    <Divider />\n                    <FieldifySchemaForm schema={this.state.schema} input={this.state.input} layout={this.state.form.layout} onChange={this.formChanged.bind(this)} />\n                  </TabPane>\n                  <TabPane tab=\"Sanatized JSON Input\" key=\"2\">\n                    <pre>\n                      {this.state.form.json}\n                    </pre>\n                  </TabPane>\n                </Tabs>\n              </Card>\n            </div>\n          </Col>\n          : null}\n\n        {this.state.selector.rendered === true ?\n          <Col sm={12} xxl={8}>\n            <div style={style}>\n              <Card size=\"small\" title=\"Pass #3 - Final Result\">\n                <Form>\n                  <Form.Item label=\"Form Layout\" name=\"layout\">\n                    <Radio.Group\n                      value={this.state.render.layout}\n                      onChange={({ target }) => this.setState({ render: { layout: target.value } })}\n                    >\n                      <Radio.Button value=\"horizontal\">Horizontal</Radio.Button>\n                      <Radio.Button value=\"vertical\">Vertical</Radio.Button>\n                      <Radio.Button value=\"inline\">Inline</Radio.Button>\n                    </Radio.Group>\n                  </Form.Item>\n                </Form>\n                <Divider />\n                <FieldifySchemaRender schema={this.state.schema} input={this.state.inputRender} layout={this.state.render.layout} />\n              </Card>\n            </div>\n          </Col>\n          : null}\n\n      </Row>\n    </Layout >\n  }\n}\n\nexport default App\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAA/CAYAAABXXxDfAAACn0lEQVRoge2bv2sTYRjHv3epIq0WWwg4KFSxCA6NwSFToQ6Zg5NLKKj/geBgXZzs4CAuDtop5h9wlI4uxqVNKWL9GaHgEDUxTnrxXnnKE0nrXRvMk9zlnvczBe7y3vu5e+953vc9HgchFHP1kwAWAeQBXABwPOzcGNIEsA5gFUCpXElvB3XxH/lirk6SywCuAzg0QsJheABWACyVK+lm9zm75Iu5+hyApwBm4tBrYWoACuVKeqPT7F95Fn8OYDIBomG0AMx3bsCOPA/1tYQ+8b3QCMjSK+DygWUl4mDPu/TD4aj+ISHBrVcoCJ5xOZ1pEifId9HlPK6RPMlnlMpnSH4qBh2Jgik3fn0aHlZeK6rlx6QbvLjgYnI6dKXcN23P4MUzH96v/tsSl796awzO4Nx3+PjKw/Z703c74sN+0OKS2ICnFSuvFSuvFfE83wuNusGXz//3X983+NGQ6Uck8k/u/cbWuh/FpXcRybD3+5+ciWADnlasvFZsnpfEmIOXtafOOhifCL7vlAhqrw1a3wafEuhzlehVZuccjB8Nt5/NOLh0ObVvG2+qPh7cbEt2KxDxJ/92w/DzC2b6xP7ixMSx4eyI2ICnFSuvFSuvFfFUV7iWwunz4feUNiO+fzU4fCQ4ndEkafPlcNb64vL5K6kDZngO7t/w8G4z+kV9JF9snFQ8PuvYgKcVK68VKy9Ju4dluPczHnvX4nn+0Z02Zs6Fp7JWw+DTVjzkxXdyRgn177zQZ7+Ro0HyVaXyVZfLrzSySvIlrjzQBPmWXC64W1Em/5i8O9F+iauONECet9FJdVxpWOC6syTT4sLCJrrzPBfazSd4BNS6Cwqxd5LDB7IAHiYoCHrsk+0WJ3qtoqYipFGqxaGJG81fwquoAfwBWHur1tz2iAAAAAAASUVORK5CYII=\"","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n","module.exports = class fieldifyType {\n  constructor (options) {\n    this.options = options || {}\n  }\n\n  encode (input, cb) {\n    if (cb) cb(input)\n    return (input)\n  }\n\n  decode (input, cb) {\n    if (cb) cb(input)\n    return (input)\n  }\n\n  verify (input, cb) {\n    if (cb) cb(null)\n    return (null)\n  }\n\n  filter (input, cb) {\n    return (this.verify(input, cb))\n  }\n\n  schematizer () {\n    return (null)\n  }\n\n  configuration () {\n    return (null)\n  }\n\n  // will be auto generate from configuration\n  sanatizeOptions (input) {\n    return (input)\n  }\n}\n"],"sourceRoot":""}